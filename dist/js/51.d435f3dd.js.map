{"version":3,"file":"js/51.d435f3dd.js","mappings":"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","sources":["webpack://vue3/./node_modules/lingo3d-vue/dist/loadFBX.js"],"sourcesContent":["import { f as Vector4, V as Vector3, g as Curve, h as Loader, i as LoaderUtils, j as FileLoader, k as TextureLoader, l as RepeatWrapping, m as ClampToEdgeWrapping, n as Texture, o as MeshPhongMaterial, p as MeshLambertMaterial, q as Color, s as sRGBEncoding, r as EquirectangularReflectionMapping, M as Matrix4, G as Group, t as Bone, u as PropertyBinding, O as Object3D, v as OrthographicCamera, w as PerspectiveCamera, x as PointLight, y as MathUtils, z as SpotLight, A as DirectionalLight, H as SkinnedMesh, c as Mesh, L as LineBasicMaterial, e as Line, I as Skeleton, J as AmbientLight, b as BufferGeometry, F as Float32BufferAttribute, U as Uint16BufferAttribute, K as Matrix3, N as AnimationClip, Q as Quaternion, E as Euler, W as VectorKeyframeTrack, X as QuaternionKeyframeTrack, Y as NumberKeyframeTrack, Z as forceGet, _ as cloneSkinnedMesh, $ as increaseLoadingCount, a0 as decreaseLoadingCount, a1 as LinearEncoding, a2 as handleProgress } from \"./index.js\";\nimport \"vue\";\n/*!\nfflate - fast JavaScript compression/decompression\n<https://101arrowz.github.io/fflate>\nLicensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE\nversion 0.6.9\n*/\nvar ch2 = {};\nvar durl = function(c) {\n  return URL.createObjectURL(new Blob([c], { type: \"text/javascript\" }));\n};\nvar cwk = function(u) {\n  return new Worker(u);\n};\ntry {\n  URL.revokeObjectURL(durl(\"\"));\n} catch (e) {\n  durl = function(c) {\n    return \"data:application/javascript;charset=UTF-8,\" + encodeURI(c);\n  };\n  cwk = function(u) {\n    return new Worker(u, { type: \"module\" });\n  };\n}\nvar wk = function(c, id, msg, transfer, cb) {\n  var w = cwk(ch2[id] || (ch2[id] = durl(c)));\n  w.onerror = function(e) {\n    return cb(e.error, null);\n  };\n  w.onmessage = function(e) {\n    return cb(null, e.data);\n  };\n  w.postMessage(msg, transfer);\n  return w;\n};\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]);\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]);\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\nvar freb = function(eb, start) {\n  var b = new u16(31);\n  for (var i = 0; i < 31; ++i) {\n    b[i] = start += 1 << eb[i - 1];\n  }\n  var r = new u32(b[30]);\n  for (var i = 1; i < 30; ++i) {\n    for (var j = b[i]; j < b[i + 1]; ++j) {\n      r[j] = j - b[i] << 5 | i;\n    }\n  }\n  return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n  var x = (i & 43690) >>> 1 | (i & 21845) << 1;\n  x = (x & 52428) >>> 2 | (x & 13107) << 2;\n  x = (x & 61680) >>> 4 | (x & 3855) << 4;\n  rev[i] = ((x & 65280) >>> 8 | (x & 255) << 8) >>> 1;\n}\nvar hMap = function(cd, mb, r) {\n  var s = cd.length;\n  var i = 0;\n  var l = new u16(mb);\n  for (; i < s; ++i)\n    ++l[cd[i] - 1];\n  var le = new u16(mb);\n  for (i = 0; i < mb; ++i) {\n    le[i] = le[i - 1] + l[i - 1] << 1;\n  }\n  var co;\n  if (r) {\n    co = new u16(1 << mb);\n    var rvb = 15 - mb;\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        var sv = i << 4 | cd[i];\n        var r_1 = mb - cd[i];\n        var v = le[cd[i] - 1]++ << r_1;\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          co[rev[v] >>> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s);\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        co[i] = rev[le[cd[i] - 1]++] >>> 15 - cd[i];\n      }\n    }\n  }\n  return co;\n};\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n  flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n  flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n  flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n  flt[i] = 8;\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n  fdt[i] = 5;\nvar flm = /* @__PURE__ */ hMap(flt, 9, 0), flrm = /* @__PURE__ */ hMap(flt, 9, 1);\nvar fdm = /* @__PURE__ */ hMap(fdt, 5, 0), fdrm = /* @__PURE__ */ hMap(fdt, 5, 1);\nvar max = function(a) {\n  var m = a[0];\n  for (var i = 1; i < a.length; ++i) {\n    if (a[i] > m)\n      m = a[i];\n  }\n  return m;\n};\nvar bits = function(d, p, m) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8) >> (p & 7) & m;\n};\nvar bits16 = function(d, p) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >> (p & 7);\n};\nvar shft = function(p) {\n  return (p / 8 | 0) + (p & 7 && 1);\n};\nvar slc = function(v, s, e) {\n  if (s == null || s < 0)\n    s = 0;\n  if (e == null || e > v.length)\n    e = v.length;\n  var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n  n.set(v.subarray(s, e));\n  return n;\n};\nvar inflt = function(dat, buf, st) {\n  var sl = dat.length;\n  if (!sl || st && !st.l && sl < 5)\n    return buf || new u8(0);\n  var noBuf = !buf || st;\n  var noSt = !st || st.i;\n  if (!st)\n    st = {};\n  if (!buf)\n    buf = new u8(sl * 3);\n  var cbuf = function(l2) {\n    var bl = buf.length;\n    if (l2 > bl) {\n      var nbuf = new u8(Math.max(bl * 2, l2));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  };\n  var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n  var tbts = sl * 8;\n  do {\n    if (!lm) {\n      st.f = final = bits(dat, pos, 1);\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n      if (!type) {\n        var s = shft(pos) + 4, l = dat[s - 4] | dat[s - 3] << 8, t = s + l;\n        if (t > sl) {\n          if (noSt)\n            throw \"unexpected EOF\";\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + l);\n        buf.set(dat.subarray(s, t), bt);\n        st.b = bt += l, st.p = pos = t * 8;\n        continue;\n      } else if (type == 1)\n        lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n      else if (type == 2) {\n        var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14;\n        var ldt = new u8(tl);\n        var clt = new u8(19);\n        for (var i = 0; i < hcLen; ++i) {\n          clt[clim[i]] = bits(dat, pos + i * 3, 7);\n        }\n        pos += hcLen * 3;\n        var clb = max(clt), clbmsk = (1 << clb) - 1;\n        var clm = hMap(clt, clb, 1);\n        for (var i = 0; i < tl; ) {\n          var r = clm[bits(dat, pos, clbmsk)];\n          pos += r & 15;\n          var s = r >>> 4;\n          if (s < 16) {\n            ldt[i++] = s;\n          } else {\n            var c = 0, n = 0;\n            if (s == 16)\n              n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n            else if (s == 17)\n              n = 3 + bits(dat, pos, 7), pos += 3;\n            else if (s == 18)\n              n = 11 + bits(dat, pos, 127), pos += 7;\n            while (n--)\n              ldt[i++] = c;\n          }\n        }\n        var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n        lbt = max(lt);\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else\n        throw \"invalid block type\";\n      if (pos > tbts) {\n        if (noSt)\n          throw \"unexpected EOF\";\n        break;\n      }\n    }\n    if (noBuf)\n      cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n    var lpos = pos;\n    for (; ; lpos = pos) {\n      var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n      pos += c & 15;\n      if (pos > tbts) {\n        if (noSt)\n          throw \"unexpected EOF\";\n        break;\n      }\n      if (!c)\n        throw \"invalid length/literal\";\n      if (sym < 256)\n        buf[bt++] = sym;\n      else if (sym == 256) {\n        lpos = pos, lm = null;\n        break;\n      } else {\n        var add = sym - 254;\n        if (sym > 264) {\n          var i = sym - 257, b = fleb[i];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i];\n          pos += b;\n        }\n        var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n        if (!d)\n          throw \"invalid distance\";\n        pos += d & 15;\n        var dt = fd[dsym];\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n        if (pos > tbts) {\n          if (noSt)\n            throw \"unexpected EOF\";\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + 131072);\n        var end = bt + add;\n        for (; bt < end; bt += 4) {\n          buf[bt] = buf[bt - dt];\n          buf[bt + 1] = buf[bt + 1 - dt];\n          buf[bt + 2] = buf[bt + 2 - dt];\n          buf[bt + 3] = buf[bt + 3 - dt];\n        }\n        bt = end;\n      }\n    }\n    st.l = lm, st.p = lpos, st.b = bt;\n    if (lm)\n      final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n  return bt == buf.length ? buf : slc(buf, 0, bt);\n};\nvar wbits = function(d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 | 0;\n  d[o] |= v;\n  d[o + 1] |= v >>> 8;\n};\nvar wbits16 = function(d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 | 0;\n  d[o] |= v;\n  d[o + 1] |= v >>> 8;\n  d[o + 2] |= v >>> 16;\n};\nvar hTree = function(d, mb) {\n  var t = [];\n  for (var i = 0; i < d.length; ++i) {\n    if (d[i])\n      t.push({ s: i, f: d[i] });\n  }\n  var s = t.length;\n  var t2 = t.slice();\n  if (!s)\n    return [et, 0];\n  if (s == 1) {\n    var v = new u8(t[0].s + 1);\n    v[t[0].s] = 1;\n    return [v, 1];\n  }\n  t.sort(function(a, b) {\n    return a.f - b.f;\n  });\n  t.push({ s: -1, f: 25001 });\n  var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n  t[0] = { s: -1, f: l.f + r.f, l, r };\n  while (i1 != s - 1) {\n    l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n    r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n    t[i1++] = { s: -1, f: l.f + r.f, l, r };\n  }\n  var maxSym = t2[0].s;\n  for (var i = 1; i < s; ++i) {\n    if (t2[i].s > maxSym)\n      maxSym = t2[i].s;\n  }\n  var tr = new u16(maxSym + 1);\n  var mbt = ln(t[i1 - 1], tr, 0);\n  if (mbt > mb) {\n    var i = 0, dt = 0;\n    var lft = mbt - mb, cst = 1 << lft;\n    t2.sort(function(a, b) {\n      return tr[b.s] - tr[a.s] || a.f - b.f;\n    });\n    for (; i < s; ++i) {\n      var i2_1 = t2[i].s;\n      if (tr[i2_1] > mb) {\n        dt += cst - (1 << mbt - tr[i2_1]);\n        tr[i2_1] = mb;\n      } else\n        break;\n    }\n    dt >>>= lft;\n    while (dt > 0) {\n      var i2_2 = t2[i].s;\n      if (tr[i2_2] < mb)\n        dt -= 1 << mb - tr[i2_2]++ - 1;\n      else\n        ++i;\n    }\n    for (; i >= 0 && dt; --i) {\n      var i2_3 = t2[i].s;\n      if (tr[i2_3] == mb) {\n        --tr[i2_3];\n        ++dt;\n      }\n    }\n    mbt = mb;\n  }\n  return [new u8(tr), mbt];\n};\nvar ln = function(n, l, d) {\n  return n.s == -1 ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1)) : l[n.s] = d;\n};\nvar lc = function(c) {\n  var s = c.length;\n  while (s && !c[--s])\n    ;\n  var cl = new u16(++s);\n  var cli = 0, cln = c[0], cls = 1;\n  var w = function(v) {\n    cl[cli++] = v;\n  };\n  for (var i = 1; i <= s; ++i) {\n    if (c[i] == cln && i != s)\n      ++cls;\n    else {\n      if (!cln && cls > 2) {\n        for (; cls > 138; cls -= 138)\n          w(32754);\n        if (cls > 2) {\n          w(cls > 10 ? cls - 11 << 5 | 28690 : cls - 3 << 5 | 12305);\n          cls = 0;\n        }\n      } else if (cls > 3) {\n        w(cln), --cls;\n        for (; cls > 6; cls -= 6)\n          w(8304);\n        if (cls > 2)\n          w(cls - 3 << 5 | 8208), cls = 0;\n      }\n      while (cls--)\n        w(cln);\n      cls = 1;\n      cln = c[i];\n    }\n  }\n  return [cl.subarray(0, cli), s];\n};\nvar clen = function(cf, cl) {\n  var l = 0;\n  for (var i = 0; i < cl.length; ++i)\n    l += cf[i] * cl[i];\n  return l;\n};\nvar wfblk = function(out, pos, dat) {\n  var s = dat.length;\n  var o = shft(pos + 2);\n  out[o] = s & 255;\n  out[o + 1] = s >>> 8;\n  out[o + 2] = out[o] ^ 255;\n  out[o + 3] = out[o + 1] ^ 255;\n  for (var i = 0; i < s; ++i)\n    out[o + i + 4] = dat[i];\n  return (o + 4 + s) * 8;\n};\nvar wblk = function(dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n  wbits(out, p++, final);\n  ++lf[256];\n  var _a2 = hTree(lf, 15), dlt = _a2[0], mlb = _a2[1];\n  var _b2 = hTree(df, 15), ddt = _b2[0], mdb = _b2[1];\n  var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n  var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n  var lcfreq = new u16(19);\n  for (var i = 0; i < lclt.length; ++i)\n    lcfreq[lclt[i] & 31]++;\n  for (var i = 0; i < lcdt.length; ++i)\n    lcfreq[lcdt[i] & 31]++;\n  var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n  var nlcc = 19;\n  for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n    ;\n  var flen = bl + 5 << 3;\n  var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n  var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n  if (flen <= ftlen && flen <= dtlen)\n    return wfblk(out, p, dat.subarray(bs, bs + bl));\n  var lm, ll, dm, dl;\n  wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n  if (dtlen < ftlen) {\n    lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n    var llm = hMap(lct, mlcb, 0);\n    wbits(out, p, nlc - 257);\n    wbits(out, p + 5, ndc - 1);\n    wbits(out, p + 10, nlcc - 4);\n    p += 14;\n    for (var i = 0; i < nlcc; ++i)\n      wbits(out, p + 3 * i, lct[clim[i]]);\n    p += 3 * nlcc;\n    var lcts = [lclt, lcdt];\n    for (var it = 0; it < 2; ++it) {\n      var clct = lcts[it];\n      for (var i = 0; i < clct.length; ++i) {\n        var len = clct[i] & 31;\n        wbits(out, p, llm[len]), p += lct[len];\n        if (len > 15)\n          wbits(out, p, clct[i] >>> 5 & 127), p += clct[i] >>> 12;\n      }\n    }\n  } else {\n    lm = flm, ll = flt, dm = fdm, dl = fdt;\n  }\n  for (var i = 0; i < li; ++i) {\n    if (syms[i] > 255) {\n      var len = syms[i] >>> 18 & 31;\n      wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n      if (len > 7)\n        wbits(out, p, syms[i] >>> 23 & 31), p += fleb[len];\n      var dst = syms[i] & 31;\n      wbits16(out, p, dm[dst]), p += dl[dst];\n      if (dst > 3)\n        wbits16(out, p, syms[i] >>> 5 & 8191), p += fdeb[dst];\n    } else {\n      wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n    }\n  }\n  wbits16(out, p, lm[256]);\n  return p + ll[256];\n};\nvar deo = /* @__PURE__ */ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\nvar et = /* @__PURE__ */ new u8(0);\nvar dflt = function(dat, lvl, plvl, pre, post, lst) {\n  var s = dat.length;\n  var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7e3)) + post);\n  var w = o.subarray(pre, o.length - post);\n  var pos = 0;\n  if (!lvl || s < 8) {\n    for (var i = 0; i <= s; i += 65535) {\n      var e = i + 65535;\n      if (e < s) {\n        pos = wfblk(w, pos, dat.subarray(i, e));\n      } else {\n        w[i] = lst;\n        pos = wfblk(w, pos, dat.subarray(i, s));\n      }\n    }\n  } else {\n    var opt = deo[lvl - 1];\n    var n = opt >>> 13, c = opt & 8191;\n    var msk_1 = (1 << plvl) - 1;\n    var prev = new u16(32768), head = new u16(msk_1 + 1);\n    var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n    var hsh = function(i2) {\n      return (dat[i2] ^ dat[i2 + 1] << bs1_1 ^ dat[i2 + 2] << bs2_1) & msk_1;\n    };\n    var syms = new u32(25e3);\n    var lf = new u16(288), df = new u16(32);\n    var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n    for (; i < s; ++i) {\n      var hv = hsh(i);\n      var imod = i & 32767, pimod = head[hv];\n      prev[imod] = pimod;\n      head[hv] = imod;\n      if (wi <= i) {\n        var rem = s - i;\n        if ((lc_1 > 7e3 || li > 24576) && rem > 423) {\n          pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n          li = lc_1 = eb = 0, bs = i;\n          for (var j = 0; j < 286; ++j)\n            lf[j] = 0;\n          for (var j = 0; j < 30; ++j)\n            df[j] = 0;\n        }\n        var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n        if (rem > 2 && hv == hsh(i - dif)) {\n          var maxn = Math.min(n, rem) - 1;\n          var maxd = Math.min(32767, i);\n          var ml = Math.min(258, rem);\n          while (dif <= maxd && --ch_1 && imod != pimod) {\n            if (dat[i + l] == dat[i + l - dif]) {\n              var nl = 0;\n              for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                ;\n              if (nl > l) {\n                l = nl, d = dif;\n                if (nl > maxn)\n                  break;\n                var mmd = Math.min(dif, nl - 2);\n                var md = 0;\n                for (var j = 0; j < mmd; ++j) {\n                  var ti = i - dif + j + 32768 & 32767;\n                  var pti = prev[ti];\n                  var cd = ti - pti + 32768 & 32767;\n                  if (cd > md)\n                    md = cd, pimod = ti;\n                }\n              }\n            }\n            imod = pimod, pimod = prev[imod];\n            dif += imod - pimod + 32768 & 32767;\n          }\n        }\n        if (d) {\n          syms[li++] = 268435456 | revfl[l] << 18 | revfd[d];\n          var lin = revfl[l] & 31, din = revfd[d] & 31;\n          eb += fleb[lin] + fdeb[din];\n          ++lf[257 + lin];\n          ++df[din];\n          wi = i + l;\n          ++lc_1;\n        } else {\n          syms[li++] = dat[i];\n          ++lf[dat[i]];\n        }\n      }\n    }\n    pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n    if (!lst && pos & 7)\n      pos = wfblk(w, pos + 1, et);\n  }\n  return slc(o, 0, pre + shft(pos) + post);\n};\nvar crct = /* @__PURE__ */ function() {\n  var t = new u32(256);\n  for (var i = 0; i < 256; ++i) {\n    var c = i, k = 9;\n    while (--k)\n      c = (c & 1 && 3988292384) ^ c >>> 1;\n    t[i] = c;\n  }\n  return t;\n}();\nvar crc = function() {\n  var c = -1;\n  return {\n    p: function(d) {\n      var cr = c;\n      for (var i = 0; i < d.length; ++i)\n        cr = crct[cr & 255 ^ d[i]] ^ cr >>> 8;\n      c = cr;\n    },\n    d: function() {\n      return ~c;\n    }\n  };\n};\nvar adler = function() {\n  var a = 1, b = 0;\n  return {\n    p: function(d) {\n      var n = a, m = b;\n      var l = d.length;\n      for (var i = 0; i != l; ) {\n        var e = Math.min(i + 2655, l);\n        for (; i < e; ++i)\n          m += n += d[i];\n        n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n      }\n      a = n, b = m;\n    },\n    d: function() {\n      a %= 65521, b %= 65521;\n      return (a & 255) << 24 | a >>> 8 << 16 | (b & 255) << 8 | b >>> 8;\n    }\n  };\n};\nvar dopt = function(dat, opt, pre, post, st) {\n  return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 12 + opt.mem, pre, post, !st);\n};\nvar mrg = function(a, b) {\n  var o = {};\n  for (var k in a)\n    o[k] = a[k];\n  for (var k in b)\n    o[k] = b[k];\n  return o;\n};\nvar wcln = function(fn, fnStr, td2) {\n  var dt = fn();\n  var st = fn.toString();\n  var ks = st.slice(st.indexOf(\"[\") + 1, st.lastIndexOf(\"]\")).replace(/ /g, \"\").split(\",\");\n  for (var i = 0; i < dt.length; ++i) {\n    var v = dt[i], k = ks[i];\n    if (typeof v == \"function\") {\n      fnStr += \";\" + k + \"=\";\n      var st_1 = v.toString();\n      if (v.prototype) {\n        if (st_1.indexOf(\"[native code]\") != -1) {\n          var spInd = st_1.indexOf(\" \", 8) + 1;\n          fnStr += st_1.slice(spInd, st_1.indexOf(\"(\", spInd));\n        } else {\n          fnStr += st_1;\n          for (var t in v.prototype)\n            fnStr += \";\" + k + \".prototype.\" + t + \"=\" + v.prototype[t].toString();\n        }\n      } else\n        fnStr += st_1;\n    } else\n      td2[k] = v;\n  }\n  return [fnStr, td2];\n};\nvar ch = [];\nvar cbfs = function(v) {\n  var tl = [];\n  for (var k in v) {\n    if (v[k] instanceof u8 || v[k] instanceof u16 || v[k] instanceof u32)\n      tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n  }\n  return tl;\n};\nvar wrkr = function(fns, init, id, cb) {\n  var _a2;\n  if (!ch[id]) {\n    var fnStr = \"\", td_1 = {}, m = fns.length - 1;\n    for (var i = 0; i < m; ++i)\n      _a2 = wcln(fns[i], fnStr, td_1), fnStr = _a2[0], td_1 = _a2[1];\n    ch[id] = wcln(fns[m], fnStr, td_1);\n  }\n  var td2 = mrg({}, ch[id][1]);\n  return wk(ch[id][0] + \";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=\" + init.toString() + \"}\", id, td2, cbfs(td2), cb);\n};\nvar bInflt = function() {\n  return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, hMap, max, bits, bits16, shft, slc, inflt, inflateSync, pbf, gu8];\n};\nvar bDflt = function() {\n  return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf];\n};\nvar gze = function() {\n  return [gzh, gzhl, wbytes, crc, crct];\n};\nvar guze = function() {\n  return [gzs, gzl];\n};\nvar zle = function() {\n  return [zlh, wbytes, adler];\n};\nvar zule = function() {\n  return [zlv];\n};\nvar pbf = function(msg) {\n  return postMessage(msg, [msg.buffer]);\n};\nvar gu8 = function(o) {\n  return o && o.size && new u8(o.size);\n};\nvar cbify = function(dat, opts, fns, init, id, cb) {\n  var w = wrkr(fns, init, id, function(err, dat2) {\n    w.terminate();\n    cb(err, dat2);\n  });\n  w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n  return function() {\n    w.terminate();\n  };\n};\nvar astrm = function(strm) {\n  strm.ondata = function(dat, final) {\n    return postMessage([dat, final], [dat.buffer]);\n  };\n  return function(ev) {\n    return strm.push(ev.data[0], ev.data[1]);\n  };\n};\nvar astrmify = function(fns, strm, opts, init, id) {\n  var t;\n  var w = wrkr(fns, init, id, function(err, dat) {\n    if (err)\n      w.terminate(), strm.ondata.call(strm, err);\n    else {\n      if (dat[1])\n        w.terminate();\n      strm.ondata.call(strm, err, dat[0], dat[1]);\n    }\n  });\n  w.postMessage(opts);\n  strm.push = function(d, f) {\n    if (t)\n      throw \"stream finished\";\n    if (!strm.ondata)\n      throw \"no stream handler\";\n    w.postMessage([d, t = f], [d.buffer]);\n  };\n  strm.terminate = function() {\n    w.terminate();\n  };\n};\nvar b2 = function(d, b) {\n  return d[b] | d[b + 1] << 8;\n};\nvar b4 = function(d, b) {\n  return (d[b] | d[b + 1] << 8 | d[b + 2] << 16 | d[b + 3] << 24) >>> 0;\n};\nvar b8 = function(d, b) {\n  return b4(d, b) + b4(d, b + 4) * 4294967296;\n};\nvar wbytes = function(d, b, v) {\n  for (; v; ++b)\n    d[b] = v, v >>>= 8;\n};\nvar gzh = function(c, o) {\n  var fn = o.filename;\n  c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3;\n  if (o.mtime != 0)\n    wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1e3));\n  if (fn) {\n    c[3] = 8;\n    for (var i = 0; i <= fn.length; ++i)\n      c[i + 10] = fn.charCodeAt(i);\n  }\n};\nvar gzs = function(d) {\n  if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n    throw \"invalid gzip data\";\n  var flg = d[3];\n  var st = 10;\n  if (flg & 4)\n    st += d[10] | (d[11] << 8) + 2;\n  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n    ;\n  return st + (flg & 2);\n};\nvar gzl = function(d) {\n  var l = d.length;\n  return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\nvar gzhl = function(o) {\n  return 10 + (o.filename && o.filename.length + 1 || 0);\n};\nvar zlh = function(c, o) {\n  var lv = o.level, fl2 = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n  c[0] = 120, c[1] = fl2 << 6 | (fl2 ? 32 - 2 * fl2 : 1);\n};\nvar zlv = function(d) {\n  if ((d[0] & 15) != 8 || d[0] >>> 4 > 7 || (d[0] << 8 | d[1]) % 31)\n    throw \"invalid zlib data\";\n  if (d[1] & 32)\n    throw \"invalid zlib data: preset dictionaries not supported\";\n};\nfunction AsyncCmpStrm(opts, cb) {\n  if (!cb && typeof opts == \"function\")\n    cb = opts, opts = {};\n  this.ondata = cb;\n  return opts;\n}\nvar Deflate = /* @__PURE__ */ function() {\n  function Deflate2(opts, cb) {\n    if (!cb && typeof opts == \"function\")\n      cb = opts, opts = {};\n    this.ondata = cb;\n    this.o = opts || {};\n  }\n  Deflate2.prototype.p = function(c, f) {\n    this.ondata(dopt(c, this.o, 0, 0, !f), f);\n  };\n  Deflate2.prototype.push = function(chunk, final) {\n    if (this.d)\n      throw \"stream finished\";\n    if (!this.ondata)\n      throw \"no stream handler\";\n    this.d = final;\n    this.p(chunk, final || false);\n  };\n  return Deflate2;\n}();\nvar AsyncDeflate = /* @__PURE__ */ function() {\n  function AsyncDeflate2(opts, cb) {\n    astrmify([\n      bDflt,\n      function() {\n        return [astrm, Deflate];\n      }\n    ], this, AsyncCmpStrm.call(this, opts, cb), function(ev) {\n      var strm = new Deflate(ev.data);\n      onmessage = astrm(strm);\n    }, 6);\n  }\n  return AsyncDeflate2;\n}();\nfunction deflate(data, opts, cb) {\n  if (!cb)\n    cb = opts, opts = {};\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  return cbify(data, opts, [\n    bDflt\n  ], function(ev) {\n    return pbf(deflateSync(ev.data[0], ev.data[1]));\n  }, 0, cb);\n}\nfunction deflateSync(data, opts) {\n  return dopt(data, opts || {}, 0, 0);\n}\nvar Inflate = /* @__PURE__ */ function() {\n  function Inflate2(cb) {\n    this.s = {};\n    this.p = new u8(0);\n    this.ondata = cb;\n  }\n  Inflate2.prototype.e = function(c) {\n    if (this.d)\n      throw \"stream finished\";\n    if (!this.ondata)\n      throw \"no stream handler\";\n    var l = this.p.length;\n    var n = new u8(l + c.length);\n    n.set(this.p), n.set(c, l), this.p = n;\n  };\n  Inflate2.prototype.c = function(final) {\n    this.d = this.s.i = final || false;\n    var bts = this.s.b;\n    var dt = inflt(this.p, this.o, this.s);\n    this.ondata(slc(dt, bts, this.s.b), this.d);\n    this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n    this.p = slc(this.p, this.s.p / 8 | 0), this.s.p &= 7;\n  };\n  Inflate2.prototype.push = function(chunk, final) {\n    this.e(chunk), this.c(final);\n  };\n  return Inflate2;\n}();\nvar AsyncInflate = /* @__PURE__ */ function() {\n  function AsyncInflate2(cb) {\n    this.ondata = cb;\n    astrmify([\n      bInflt,\n      function() {\n        return [astrm, Inflate];\n      }\n    ], this, 0, function() {\n      var strm = new Inflate();\n      onmessage = astrm(strm);\n    }, 7);\n  }\n  return AsyncInflate2;\n}();\nfunction inflate(data, opts, cb) {\n  if (!cb)\n    cb = opts, opts = {};\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  return cbify(data, opts, [\n    bInflt\n  ], function(ev) {\n    return pbf(inflateSync(ev.data[0], gu8(ev.data[1])));\n  }, 1, cb);\n}\nfunction inflateSync(data, out) {\n  return inflt(data, out);\n}\nvar Gzip = /* @__PURE__ */ function() {\n  function Gzip2(opts, cb) {\n    this.c = crc();\n    this.l = 0;\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  Gzip2.prototype.push = function(chunk, final) {\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n  Gzip2.prototype.p = function(c, f) {\n    this.c.p(c);\n    this.l += c.length;\n    var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n    if (this.v)\n      gzh(raw, this.o), this.v = 0;\n    if (f)\n      wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n    this.ondata(raw, f);\n  };\n  return Gzip2;\n}();\nvar AsyncGzip = /* @__PURE__ */ function() {\n  function AsyncGzip2(opts, cb) {\n    astrmify([\n      bDflt,\n      gze,\n      function() {\n        return [astrm, Deflate, Gzip];\n      }\n    ], this, AsyncCmpStrm.call(this, opts, cb), function(ev) {\n      var strm = new Gzip(ev.data);\n      onmessage = astrm(strm);\n    }, 8);\n  }\n  return AsyncGzip2;\n}();\nfunction gzip(data, opts, cb) {\n  if (!cb)\n    cb = opts, opts = {};\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  return cbify(data, opts, [\n    bDflt,\n    gze,\n    function() {\n      return [gzipSync];\n    }\n  ], function(ev) {\n    return pbf(gzipSync(ev.data[0], ev.data[1]));\n  }, 2, cb);\n}\nfunction gzipSync(data, opts) {\n  if (!opts)\n    opts = {};\n  var c = crc(), l = data.length;\n  c.p(data);\n  var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n  return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\nvar Gunzip = /* @__PURE__ */ function() {\n  function Gunzip2(cb) {\n    this.v = 1;\n    Inflate.call(this, cb);\n  }\n  Gunzip2.prototype.push = function(chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n    if (this.v) {\n      var s = this.p.length > 3 ? gzs(this.p) : 4;\n      if (s >= this.p.length && !final)\n        return;\n      this.p = this.p.subarray(s), this.v = 0;\n    }\n    if (final) {\n      if (this.p.length < 8)\n        throw \"invalid gzip stream\";\n      this.p = this.p.subarray(0, -8);\n    }\n    Inflate.prototype.c.call(this, final);\n  };\n  return Gunzip2;\n}();\nvar AsyncGunzip = /* @__PURE__ */ function() {\n  function AsyncGunzip2(cb) {\n    this.ondata = cb;\n    astrmify([\n      bInflt,\n      guze,\n      function() {\n        return [astrm, Inflate, Gunzip];\n      }\n    ], this, 0, function() {\n      var strm = new Gunzip();\n      onmessage = astrm(strm);\n    }, 9);\n  }\n  return AsyncGunzip2;\n}();\nfunction gunzip(data, opts, cb) {\n  if (!cb)\n    cb = opts, opts = {};\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  return cbify(data, opts, [\n    bInflt,\n    guze,\n    function() {\n      return [gunzipSync];\n    }\n  ], function(ev) {\n    return pbf(gunzipSync(ev.data[0]));\n  }, 3, cb);\n}\nfunction gunzipSync(data, out) {\n  return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\nvar Zlib = /* @__PURE__ */ function() {\n  function Zlib2(opts, cb) {\n    this.c = adler();\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  Zlib2.prototype.push = function(chunk, final) {\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n  Zlib2.prototype.p = function(c, f) {\n    this.c.p(c);\n    var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n    if (this.v)\n      zlh(raw, this.o), this.v = 0;\n    if (f)\n      wbytes(raw, raw.length - 4, this.c.d());\n    this.ondata(raw, f);\n  };\n  return Zlib2;\n}();\nvar AsyncZlib = /* @__PURE__ */ function() {\n  function AsyncZlib2(opts, cb) {\n    astrmify([\n      bDflt,\n      zle,\n      function() {\n        return [astrm, Deflate, Zlib];\n      }\n    ], this, AsyncCmpStrm.call(this, opts, cb), function(ev) {\n      var strm = new Zlib(ev.data);\n      onmessage = astrm(strm);\n    }, 10);\n  }\n  return AsyncZlib2;\n}();\nfunction zlib(data, opts, cb) {\n  if (!cb)\n    cb = opts, opts = {};\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  return cbify(data, opts, [\n    bDflt,\n    zle,\n    function() {\n      return [zlibSync];\n    }\n  ], function(ev) {\n    return pbf(zlibSync(ev.data[0], ev.data[1]));\n  }, 4, cb);\n}\nfunction zlibSync(data, opts) {\n  if (!opts)\n    opts = {};\n  var a = adler();\n  a.p(data);\n  var d = dopt(data, opts, 2, 4);\n  return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\nvar Unzlib = /* @__PURE__ */ function() {\n  function Unzlib2(cb) {\n    this.v = 1;\n    Inflate.call(this, cb);\n  }\n  Unzlib2.prototype.push = function(chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n    if (this.v) {\n      if (this.p.length < 2 && !final)\n        return;\n      this.p = this.p.subarray(2), this.v = 0;\n    }\n    if (final) {\n      if (this.p.length < 4)\n        throw \"invalid zlib stream\";\n      this.p = this.p.subarray(0, -4);\n    }\n    Inflate.prototype.c.call(this, final);\n  };\n  return Unzlib2;\n}();\nvar AsyncUnzlib = /* @__PURE__ */ function() {\n  function AsyncUnzlib2(cb) {\n    this.ondata = cb;\n    astrmify([\n      bInflt,\n      zule,\n      function() {\n        return [astrm, Inflate, Unzlib];\n      }\n    ], this, 0, function() {\n      var strm = new Unzlib();\n      onmessage = astrm(strm);\n    }, 11);\n  }\n  return AsyncUnzlib2;\n}();\nfunction unzlib(data, opts, cb) {\n  if (!cb)\n    cb = opts, opts = {};\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  return cbify(data, opts, [\n    bInflt,\n    zule,\n    function() {\n      return [unzlibSync];\n    }\n  ], function(ev) {\n    return pbf(unzlibSync(ev.data[0], gu8(ev.data[1])));\n  }, 5, cb);\n}\nfunction unzlibSync(data, out) {\n  return inflt((zlv(data), data.subarray(2, -4)), out);\n}\nvar Decompress = /* @__PURE__ */ function() {\n  function Decompress2(cb) {\n    this.G = Gunzip;\n    this.I = Inflate;\n    this.Z = Unzlib;\n    this.ondata = cb;\n  }\n  Decompress2.prototype.push = function(chunk, final) {\n    if (!this.ondata)\n      throw \"no stream handler\";\n    if (!this.s) {\n      if (this.p && this.p.length) {\n        var n = new u8(this.p.length + chunk.length);\n        n.set(this.p), n.set(chunk, this.p.length);\n      } else\n        this.p = chunk;\n      if (this.p.length > 2) {\n        var _this_1 = this;\n        var cb = function() {\n          _this_1.ondata.apply(_this_1, arguments);\n        };\n        this.s = this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8 ? new this.G(cb) : (this.p[0] & 15) != 8 || this.p[0] >> 4 > 7 || (this.p[0] << 8 | this.p[1]) % 31 ? new this.I(cb) : new this.Z(cb);\n        this.s.push(this.p, final);\n        this.p = null;\n      }\n    } else\n      this.s.push(chunk, final);\n  };\n  return Decompress2;\n}();\nvar AsyncDecompress = /* @__PURE__ */ function() {\n  function AsyncDecompress2(cb) {\n    this.G = AsyncGunzip;\n    this.I = AsyncInflate;\n    this.Z = AsyncUnzlib;\n    this.ondata = cb;\n  }\n  AsyncDecompress2.prototype.push = function(chunk, final) {\n    Decompress.prototype.push.call(this, chunk, final);\n  };\n  return AsyncDecompress2;\n}();\nfunction decompress(data, opts, cb) {\n  if (!cb)\n    cb = opts, opts = {};\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzip(data, opts, cb) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflate(data, opts, cb) : unzlib(data, opts, cb);\n}\nfunction decompressSync(data, out) {\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzipSync(data, out) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflateSync(data, out) : unzlibSync(data, out);\n}\nvar fltn = function(d, p, t, o) {\n  for (var k in d) {\n    var val = d[k], n = p + k;\n    if (val instanceof u8)\n      t[n] = [val, o];\n    else if (Array.isArray(val))\n      t[n] = [val[0], mrg(o, val[1])];\n    else\n      fltn(val, n + \"/\", t, o);\n  }\n};\nvar te = typeof TextEncoder != \"undefined\" && /* @__PURE__ */ new TextEncoder();\nvar td = typeof TextDecoder != \"undefined\" && /* @__PURE__ */ new TextDecoder();\nvar tds = 0;\ntry {\n  td.decode(et, { stream: true });\n  tds = 1;\n} catch (e) {\n}\nvar dutf8 = function(d) {\n  for (var r = \"\", i = 0; ; ) {\n    var c = d[i++];\n    var eb = (c > 127) + (c > 223) + (c > 239);\n    if (i + eb > d.length)\n      return [r, slc(d, i - 1)];\n    if (!eb)\n      r += String.fromCharCode(c);\n    else if (eb == 3) {\n      c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | d[i++] & 63) - 65536, r += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);\n    } else if (eb & 1)\n      r += String.fromCharCode((c & 31) << 6 | d[i++] & 63);\n    else\n      r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | d[i++] & 63);\n  }\n};\nvar DecodeUTF8 = /* @__PURE__ */ function() {\n  function DecodeUTF82(cb) {\n    this.ondata = cb;\n    if (tds)\n      this.t = new TextDecoder();\n    else\n      this.p = et;\n  }\n  DecodeUTF82.prototype.push = function(chunk, final) {\n    if (!this.ondata)\n      throw \"no callback\";\n    final = !!final;\n    if (this.t) {\n      this.ondata(this.t.decode(chunk, { stream: true }), final);\n      if (final) {\n        if (this.t.decode().length)\n          throw \"invalid utf-8 data\";\n        this.t = null;\n      }\n      return;\n    }\n    if (!this.p)\n      throw \"stream finished\";\n    var dat = new u8(this.p.length + chunk.length);\n    dat.set(this.p);\n    dat.set(chunk, this.p.length);\n    var _a2 = dutf8(dat), ch3 = _a2[0], np = _a2[1];\n    if (final) {\n      if (np.length)\n        throw \"invalid utf-8 data\";\n      this.p = null;\n    } else\n      this.p = np;\n    this.ondata(ch3, final);\n  };\n  return DecodeUTF82;\n}();\nvar EncodeUTF8 = /* @__PURE__ */ function() {\n  function EncodeUTF82(cb) {\n    this.ondata = cb;\n  }\n  EncodeUTF82.prototype.push = function(chunk, final) {\n    if (!this.ondata)\n      throw \"no callback\";\n    if (this.d)\n      throw \"stream finished\";\n    this.ondata(strToU8(chunk), this.d = final || false);\n  };\n  return EncodeUTF82;\n}();\nfunction strToU8(str, latin1) {\n  if (latin1) {\n    var ar_1 = new u8(str.length);\n    for (var i = 0; i < str.length; ++i)\n      ar_1[i] = str.charCodeAt(i);\n    return ar_1;\n  }\n  if (te)\n    return te.encode(str);\n  var l = str.length;\n  var ar = new u8(str.length + (str.length >> 1));\n  var ai = 0;\n  var w = function(v) {\n    ar[ai++] = v;\n  };\n  for (var i = 0; i < l; ++i) {\n    if (ai + 5 > ar.length) {\n      var n = new u8(ai + 8 + (l - i << 1));\n      n.set(ar);\n      ar = n;\n    }\n    var c = str.charCodeAt(i);\n    if (c < 128 || latin1)\n      w(c);\n    else if (c < 2048)\n      w(192 | c >> 6), w(128 | c & 63);\n    else if (c > 55295 && c < 57344)\n      c = 65536 + (c & 1023 << 10) | str.charCodeAt(++i) & 1023, w(240 | c >> 18), w(128 | c >> 12 & 63), w(128 | c >> 6 & 63), w(128 | c & 63);\n    else\n      w(224 | c >> 12), w(128 | c >> 6 & 63), w(128 | c & 63);\n  }\n  return slc(ar, 0, ai);\n}\nfunction strFromU8(dat, latin1) {\n  if (latin1) {\n    var r = \"\";\n    for (var i = 0; i < dat.length; i += 16384)\n      r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n    return r;\n  } else if (td)\n    return td.decode(dat);\n  else {\n    var _a2 = dutf8(dat), out = _a2[0], ext = _a2[1];\n    if (ext.length)\n      throw \"invalid utf-8 data\";\n    return out;\n  }\n}\nvar dbf = function(l) {\n  return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0;\n};\nvar slzh = function(d, b) {\n  return b + 30 + b2(d, b + 26) + b2(d, b + 28);\n};\nvar zh = function(d, b, z) {\n  var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n  var _a2 = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a2[0], su = _a2[1], off = _a2[2];\n  return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\nvar z64e = function(d, b) {\n  for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n    ;\n  return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\nvar exfl = function(ex) {\n  var le = 0;\n  if (ex) {\n    for (var k in ex) {\n      var l = ex[k].length;\n      if (l > 65535)\n        throw \"extra field too long\";\n      le += l + 4;\n    }\n  }\n  return le;\n};\nvar wzh = function(d, b, f, fn, u, c, ce, co) {\n  var fl2 = fn.length, ex = f.extra, col = co && co.length;\n  var exl = exfl(ex);\n  wbytes(d, b, ce != null ? 33639248 : 67324752), b += 4;\n  if (ce != null)\n    d[b++] = 20, d[b++] = f.os;\n  d[b] = 20, b += 2;\n  d[b++] = f.flag << 1 | (c == null && 8), d[b++] = u && 8;\n  d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n  var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n  if (y < 0 || y > 119)\n    throw \"date not in range 1980-2099\";\n  wbytes(d, b, y << 25 | dt.getMonth() + 1 << 21 | dt.getDate() << 16 | dt.getHours() << 11 | dt.getMinutes() << 5 | dt.getSeconds() >>> 1), b += 4;\n  if (c != null) {\n    wbytes(d, b, f.crc);\n    wbytes(d, b + 4, c);\n    wbytes(d, b + 8, f.size);\n  }\n  wbytes(d, b + 12, fl2);\n  wbytes(d, b + 14, exl), b += 16;\n  if (ce != null) {\n    wbytes(d, b, col);\n    wbytes(d, b + 6, f.attrs);\n    wbytes(d, b + 10, ce), b += 14;\n  }\n  d.set(fn, b);\n  b += fl2;\n  if (exl) {\n    for (var k in ex) {\n      var exf = ex[k], l = exf.length;\n      wbytes(d, b, +k);\n      wbytes(d, b + 2, l);\n      d.set(exf, b + 4), b += 4 + l;\n    }\n  }\n  if (col)\n    d.set(co, b), b += col;\n  return b;\n};\nvar wzf = function(o, b, c, d, e) {\n  wbytes(o, b, 101010256);\n  wbytes(o, b + 8, c);\n  wbytes(o, b + 10, c);\n  wbytes(o, b + 12, d);\n  wbytes(o, b + 16, e);\n};\nvar ZipPassThrough = /* @__PURE__ */ function() {\n  function ZipPassThrough2(filename) {\n    this.filename = filename;\n    this.c = crc();\n    this.size = 0;\n    this.compression = 0;\n  }\n  ZipPassThrough2.prototype.process = function(chunk, final) {\n    this.ondata(null, chunk, final);\n  };\n  ZipPassThrough2.prototype.push = function(chunk, final) {\n    if (!this.ondata)\n      throw \"no callback - add to ZIP archive before pushing\";\n    this.c.p(chunk);\n    this.size += chunk.length;\n    if (final)\n      this.crc = this.c.d();\n    this.process(chunk, final || false);\n  };\n  return ZipPassThrough2;\n}();\nvar ZipDeflate = /* @__PURE__ */ function() {\n  function ZipDeflate2(filename, opts) {\n    var _this_1 = this;\n    if (!opts)\n      opts = {};\n    ZipPassThrough.call(this, filename);\n    this.d = new Deflate(opts, function(dat, final) {\n      _this_1.ondata(null, dat, final);\n    });\n    this.compression = 8;\n    this.flag = dbf(opts.level);\n  }\n  ZipDeflate2.prototype.process = function(chunk, final) {\n    try {\n      this.d.push(chunk, final);\n    } catch (e) {\n      this.ondata(e, null, final);\n    }\n  };\n  ZipDeflate2.prototype.push = function(chunk, final) {\n    ZipPassThrough.prototype.push.call(this, chunk, final);\n  };\n  return ZipDeflate2;\n}();\nvar AsyncZipDeflate = /* @__PURE__ */ function() {\n  function AsyncZipDeflate2(filename, opts) {\n    var _this_1 = this;\n    if (!opts)\n      opts = {};\n    ZipPassThrough.call(this, filename);\n    this.d = new AsyncDeflate(opts, function(err, dat, final) {\n      _this_1.ondata(err, dat, final);\n    });\n    this.compression = 8;\n    this.flag = dbf(opts.level);\n    this.terminate = this.d.terminate;\n  }\n  AsyncZipDeflate2.prototype.process = function(chunk, final) {\n    this.d.push(chunk, final);\n  };\n  AsyncZipDeflate2.prototype.push = function(chunk, final) {\n    ZipPassThrough.prototype.push.call(this, chunk, final);\n  };\n  return AsyncZipDeflate2;\n}();\nvar Zip = /* @__PURE__ */ function() {\n  function Zip2(cb) {\n    this.ondata = cb;\n    this.u = [];\n    this.d = 1;\n  }\n  Zip2.prototype.add = function(file) {\n    var _this_1 = this;\n    if (this.d & 2)\n      throw \"stream finished\";\n    var f = strToU8(file.filename), fl2 = f.length;\n    var com = file.comment, o = com && strToU8(com);\n    var u = fl2 != file.filename.length || o && com.length != o.length;\n    var hl = fl2 + exfl(file.extra) + 30;\n    if (fl2 > 65535)\n      throw \"filename too long\";\n    var header = new u8(hl);\n    wzh(header, 0, file, f, u);\n    var chks = [header];\n    var pAll = function() {\n      for (var _i = 0, chks_1 = chks; _i < chks_1.length; _i++) {\n        var chk = chks_1[_i];\n        _this_1.ondata(null, chk, false);\n      }\n      chks = [];\n    };\n    var tr = this.d;\n    this.d = 0;\n    var ind = this.u.length;\n    var uf = mrg(file, {\n      f,\n      u,\n      o,\n      t: function() {\n        if (file.terminate)\n          file.terminate();\n      },\n      r: function() {\n        pAll();\n        if (tr) {\n          var nxt = _this_1.u[ind + 1];\n          if (nxt)\n            nxt.r();\n          else\n            _this_1.d = 1;\n        }\n        tr = 1;\n      }\n    });\n    var cl = 0;\n    file.ondata = function(err, dat, final) {\n      if (err) {\n        _this_1.ondata(err, dat, final);\n        _this_1.terminate();\n      } else {\n        cl += dat.length;\n        chks.push(dat);\n        if (final) {\n          var dd = new u8(16);\n          wbytes(dd, 0, 134695760);\n          wbytes(dd, 4, file.crc);\n          wbytes(dd, 8, cl);\n          wbytes(dd, 12, file.size);\n          chks.push(dd);\n          uf.c = cl, uf.b = hl + cl + 16, uf.crc = file.crc, uf.size = file.size;\n          if (tr)\n            uf.r();\n          tr = 1;\n        } else if (tr)\n          pAll();\n      }\n    };\n    this.u.push(uf);\n  };\n  Zip2.prototype.end = function() {\n    var _this_1 = this;\n    if (this.d & 2) {\n      if (this.d & 1)\n        throw \"stream finishing\";\n      throw \"stream finished\";\n    }\n    if (this.d)\n      this.e();\n    else\n      this.u.push({\n        r: function() {\n          if (!(_this_1.d & 1))\n            return;\n          _this_1.u.splice(-1, 1);\n          _this_1.e();\n        },\n        t: function() {\n        }\n      });\n    this.d = 3;\n  };\n  Zip2.prototype.e = function() {\n    var bt = 0, l = 0, tl = 0;\n    for (var _i = 0, _a2 = this.u; _i < _a2.length; _i++) {\n      var f = _a2[_i];\n      tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n    }\n    var out = new u8(tl + 22);\n    for (var _b2 = 0, _c = this.u; _b2 < _c.length; _b2++) {\n      var f = _c[_b2];\n      wzh(out, bt, f, f.f, f.u, f.c, l, f.o);\n      bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n    }\n    wzf(out, bt, this.u.length, tl, l);\n    this.ondata(null, out, true);\n    this.d = 2;\n  };\n  Zip2.prototype.terminate = function() {\n    for (var _i = 0, _a2 = this.u; _i < _a2.length; _i++) {\n      var f = _a2[_i];\n      f.t();\n    }\n    this.d = 2;\n  };\n  return Zip2;\n}();\nfunction zip(data, opts, cb) {\n  if (!cb)\n    cb = opts, opts = {};\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  var r = {};\n  fltn(data, \"\", r, opts);\n  var k = Object.keys(r);\n  var lft = k.length, o = 0, tot = 0;\n  var slft = lft, files = new Array(lft);\n  var term = [];\n  var tAll = function() {\n    for (var i2 = 0; i2 < term.length; ++i2)\n      term[i2]();\n  };\n  var cbf = function() {\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    tot = 0;\n    for (var i2 = 0; i2 < slft; ++i2) {\n      var f = files[i2];\n      try {\n        var l = f.c.length;\n        wzh(out, tot, f, f.f, f.u, l);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        var loc = tot + badd;\n        out.set(f.c, loc);\n        wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n      } catch (e) {\n        return cb(e, null);\n      }\n    }\n    wzf(out, o, files.length, cdl, oe);\n    cb(null, out);\n  };\n  if (!lft)\n    cbf();\n  var _loop_1 = function(i2) {\n    var fn = k[i2];\n    var _a2 = r[fn], file = _a2[0], p = _a2[1];\n    var c = crc(), size = file.length;\n    c.p(file);\n    var f = strToU8(fn), s = f.length;\n    var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n    var exl = exfl(p.extra);\n    var compression = p.level == 0 ? 0 : 8;\n    var cbl = function(e, d) {\n      if (e) {\n        tAll();\n        cb(e, null);\n      } else {\n        var l = d.length;\n        files[i2] = mrg(p, {\n          size,\n          crc: c.d(),\n          c: d,\n          f,\n          m,\n          u: s != fn.length || m && com.length != ms,\n          compression\n        });\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n        if (!--lft)\n          cbf();\n      }\n    };\n    if (s > 65535)\n      cbl(\"filename too long\", null);\n    if (!compression)\n      cbl(null, file);\n    else if (size < 16e4) {\n      try {\n        cbl(null, deflateSync(file, p));\n      } catch (e) {\n        cbl(e, null);\n      }\n    } else\n      term.push(deflate(file, p, cbl));\n  };\n  for (var i = 0; i < slft; ++i) {\n    _loop_1(i);\n  }\n  return tAll;\n}\nfunction zipSync(data, opts) {\n  if (!opts)\n    opts = {};\n  var r = {};\n  var files = [];\n  fltn(data, \"\", r, opts);\n  var o = 0;\n  var tot = 0;\n  for (var fn in r) {\n    var _a2 = r[fn], file = _a2[0], p = _a2[1];\n    var compression = p.level == 0 ? 0 : 8;\n    var f = strToU8(fn), s = f.length;\n    var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n    var exl = exfl(p.extra);\n    if (s > 65535)\n      throw \"filename too long\";\n    var d = compression ? deflateSync(file, p) : file, l = d.length;\n    var c = crc();\n    c.p(file);\n    files.push(mrg(p, {\n      size: file.length,\n      crc: c.d(),\n      c: d,\n      f,\n      m,\n      u: s != fn.length || m && com.length != ms,\n      o,\n      compression\n    }));\n    o += 30 + s + exl + l;\n    tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n  }\n  var out = new u8(tot + 22), oe = o, cdl = tot - o;\n  for (var i = 0; i < files.length; ++i) {\n    var f = files[i];\n    wzh(out, f.o, f, f.f, f.u, f.c.length);\n    var badd = 30 + f.f.length + exfl(f.extra);\n    out.set(f.c, f.o + badd);\n    wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n  }\n  wzf(out, o, files.length, cdl, oe);\n  return out;\n}\nvar UnzipPassThrough = /* @__PURE__ */ function() {\n  function UnzipPassThrough2() {\n  }\n  UnzipPassThrough2.prototype.push = function(data, final) {\n    this.ondata(null, data, final);\n  };\n  UnzipPassThrough2.compression = 0;\n  return UnzipPassThrough2;\n}();\nvar UnzipInflate = /* @__PURE__ */ function() {\n  function UnzipInflate2() {\n    var _this_1 = this;\n    this.i = new Inflate(function(dat, final) {\n      _this_1.ondata(null, dat, final);\n    });\n  }\n  UnzipInflate2.prototype.push = function(data, final) {\n    try {\n      this.i.push(data, final);\n    } catch (e) {\n      this.ondata(e, data, final);\n    }\n  };\n  UnzipInflate2.compression = 8;\n  return UnzipInflate2;\n}();\nvar AsyncUnzipInflate = /* @__PURE__ */ function() {\n  function AsyncUnzipInflate2(_, sz) {\n    var _this_1 = this;\n    if (sz < 32e4) {\n      this.i = new Inflate(function(dat, final) {\n        _this_1.ondata(null, dat, final);\n      });\n    } else {\n      this.i = new AsyncInflate(function(err, dat, final) {\n        _this_1.ondata(err, dat, final);\n      });\n      this.terminate = this.i.terminate;\n    }\n  }\n  AsyncUnzipInflate2.prototype.push = function(data, final) {\n    if (this.i.terminate)\n      data = slc(data, 0);\n    this.i.push(data, final);\n  };\n  AsyncUnzipInflate2.compression = 8;\n  return AsyncUnzipInflate2;\n}();\nvar Unzip = /* @__PURE__ */ function() {\n  function Unzip2(cb) {\n    this.onfile = cb;\n    this.k = [];\n    this.o = {\n      0: UnzipPassThrough\n    };\n    this.p = et;\n  }\n  Unzip2.prototype.push = function(chunk, final) {\n    var _this_1 = this;\n    if (!this.onfile)\n      throw \"no callback\";\n    if (!this.p)\n      throw \"stream finished\";\n    if (this.c > 0) {\n      var len = Math.min(this.c, chunk.length);\n      var toAdd = chunk.subarray(0, len);\n      this.c -= len;\n      if (this.d)\n        this.d.push(toAdd, !this.c);\n      else\n        this.k[0].push(toAdd);\n      chunk = chunk.subarray(len);\n      if (chunk.length)\n        return this.push(chunk, final);\n    } else {\n      var f = 0, i = 0, is = void 0, buf = void 0;\n      if (!this.p.length)\n        buf = chunk;\n      else if (!chunk.length)\n        buf = this.p;\n      else {\n        buf = new u8(this.p.length + chunk.length);\n        buf.set(this.p), buf.set(chunk, this.p.length);\n      }\n      var l = buf.length, oc = this.c, add = oc && this.d;\n      var _loop_2 = function() {\n        var _a2;\n        var sig = b4(buf, i);\n        if (sig == 67324752) {\n          f = 1, is = i;\n          this_1.d = null;\n          this_1.c = 0;\n          var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n          if (l > i + 30 + fnl + es) {\n            var chks_2 = [];\n            this_1.k.unshift(chks_2);\n            f = 2;\n            var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n            var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n            if (sc_1 == 4294967295) {\n              _a2 = dd ? [-2] : z64e(buf, i), sc_1 = _a2[0], su_1 = _a2[1];\n            } else if (dd)\n              sc_1 = -1;\n            i += es;\n            this_1.c = sc_1;\n            var d_1;\n            var file_1 = {\n              name: fn_1,\n              compression: cmp_1,\n              start: function() {\n                if (!file_1.ondata)\n                  throw \"no callback\";\n                if (!sc_1)\n                  file_1.ondata(null, et, true);\n                else {\n                  var ctr = _this_1.o[cmp_1];\n                  if (!ctr)\n                    throw \"unknown compression type \" + cmp_1;\n                  d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                  d_1.ondata = function(err, dat3, final2) {\n                    file_1.ondata(err, dat3, final2);\n                  };\n                  for (var _i = 0, chks_3 = chks_2; _i < chks_3.length; _i++) {\n                    var dat2 = chks_3[_i];\n                    d_1.push(dat2, false);\n                  }\n                  if (_this_1.k[0] == chks_2 && _this_1.c)\n                    _this_1.d = d_1;\n                  else\n                    d_1.push(et, true);\n                }\n              },\n              terminate: function() {\n                if (d_1 && d_1.terminate)\n                  d_1.terminate();\n              }\n            };\n            if (sc_1 >= 0)\n              file_1.size = sc_1, file_1.originalSize = su_1;\n            this_1.onfile(file_1);\n          }\n          return \"break\";\n        } else if (oc) {\n          if (sig == 134695760) {\n            is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n            return \"break\";\n          } else if (sig == 33639248) {\n            is = i -= 4, f = 3, this_1.c = 0;\n            return \"break\";\n          }\n        }\n      };\n      var this_1 = this;\n      for (; i < l - 4; ++i) {\n        var state_1 = _loop_2();\n        if (state_1 === \"break\")\n          break;\n      }\n      this.p = et;\n      if (oc < 0) {\n        var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 134695760 && 4)) : buf.subarray(0, i);\n        if (add)\n          add.push(dat, !!f);\n        else\n          this.k[+(f == 2)].push(dat);\n      }\n      if (f & 2)\n        return this.push(buf.subarray(i), final);\n      this.p = buf.subarray(i);\n    }\n    if (final) {\n      if (this.c)\n        throw \"invalid zip file\";\n      this.p = null;\n    }\n  };\n  Unzip2.prototype.register = function(decoder) {\n    this.o[decoder.compression] = decoder;\n  };\n  return Unzip2;\n}();\nfunction unzip(data, cb) {\n  if (typeof cb != \"function\")\n    throw \"no callback\";\n  var term = [];\n  var tAll = function() {\n    for (var i2 = 0; i2 < term.length; ++i2)\n      term[i2]();\n  };\n  var files = {};\n  var e = data.length - 22;\n  for (; b4(data, e) != 101010256; --e) {\n    if (!e || data.length - e > 65558) {\n      cb(\"invalid zip file\", null);\n      return;\n    }\n  }\n  var lft = b2(data, e + 8);\n  if (!lft)\n    cb(null, {});\n  var c = lft;\n  var o = b4(data, e + 16);\n  var z = o == 4294967295;\n  if (z) {\n    e = b4(data, e - 12);\n    if (b4(data, e) != 101075792) {\n      cb(\"invalid zip file\", null);\n      return;\n    }\n    c = lft = b4(data, e + 32);\n    o = b4(data, e + 48);\n  }\n  var _loop_3 = function(i2) {\n    var _a2 = zh(data, o, z), c_1 = _a2[0], sc = _a2[1], su = _a2[2], fn = _a2[3], no = _a2[4], off = _a2[5], b = slzh(data, off);\n    o = no;\n    var cbl = function(e2, d) {\n      if (e2) {\n        tAll();\n        cb(e2, null);\n      } else {\n        files[fn] = d;\n        if (!--lft)\n          cb(null, files);\n      }\n    };\n    if (!c_1)\n      cbl(null, slc(data, b, b + sc));\n    else if (c_1 == 8) {\n      var infl = data.subarray(b, b + sc);\n      if (sc < 32e4) {\n        try {\n          cbl(null, inflateSync(infl, new u8(su)));\n        } catch (e2) {\n          cbl(e2, null);\n        }\n      } else\n        term.push(inflate(infl, { size: su }, cbl));\n    } else\n      cbl(\"unknown compression type \" + c_1, null);\n  };\n  for (var i = 0; i < c; ++i) {\n    _loop_3();\n  }\n  return tAll;\n}\nfunction unzipSync(data) {\n  var files = {};\n  var e = data.length - 22;\n  for (; b4(data, e) != 101010256; --e) {\n    if (!e || data.length - e > 65558)\n      throw \"invalid zip file\";\n  }\n  var c = b2(data, e + 8);\n  if (!c)\n    return {};\n  var o = b4(data, e + 16);\n  var z = o == 4294967295;\n  if (z) {\n    e = b4(data, e - 12);\n    if (b4(data, e) != 101075792)\n      throw \"invalid zip file\";\n    c = b4(data, e + 32);\n    o = b4(data, e + 48);\n  }\n  for (var i = 0; i < c; ++i) {\n    var _a2 = zh(data, o, z), c_2 = _a2[0], sc = _a2[1], su = _a2[2], fn = _a2[3], no = _a2[4], off = _a2[5], b = slzh(data, off);\n    o = no;\n    if (!c_2)\n      files[fn] = slc(data, b, b + sc);\n    else if (c_2 == 8)\n      files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n    else\n      throw \"unknown compression type \" + c_2;\n  }\n  return files;\n}\nvar fflate = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  Deflate,\n  AsyncDeflate,\n  deflate,\n  deflateSync,\n  Inflate,\n  AsyncInflate,\n  inflate,\n  inflateSync,\n  Gzip,\n  AsyncGzip,\n  gzip,\n  gzipSync,\n  Gunzip,\n  AsyncGunzip,\n  gunzip,\n  gunzipSync,\n  Zlib,\n  AsyncZlib,\n  zlib,\n  zlibSync,\n  Unzlib,\n  AsyncUnzlib,\n  unzlib,\n  unzlibSync,\n  compress: gzip,\n  AsyncCompress: AsyncGzip,\n  compressSync: gzipSync,\n  Compress: Gzip,\n  Decompress,\n  AsyncDecompress,\n  decompress,\n  decompressSync,\n  DecodeUTF8,\n  EncodeUTF8,\n  strToU8,\n  strFromU8,\n  ZipPassThrough,\n  ZipDeflate,\n  AsyncZipDeflate,\n  Zip,\n  zip,\n  zipSync,\n  UnzipPassThrough,\n  UnzipInflate,\n  AsyncUnzipInflate,\n  Unzip,\n  unzip,\n  unzipSync\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction findSpan(p, u, U) {\n  const n = U.length - p - 1;\n  if (u >= U[n]) {\n    return n - 1;\n  }\n  if (u <= U[p]) {\n    return p;\n  }\n  let low = p;\n  let high = n;\n  let mid = Math.floor((low + high) / 2);\n  while (u < U[mid] || u >= U[mid + 1]) {\n    if (u < U[mid]) {\n      high = mid;\n    } else {\n      low = mid;\n    }\n    mid = Math.floor((low + high) / 2);\n  }\n  return mid;\n}\nfunction calcBasisFunctions(span, u, p, U) {\n  const N = [];\n  const left = [];\n  const right = [];\n  N[0] = 1;\n  for (let j = 1; j <= p; ++j) {\n    left[j] = u - U[span + 1 - j];\n    right[j] = U[span + j] - u;\n    let saved = 0;\n    for (let r = 0; r < j; ++r) {\n      const rv = right[r + 1];\n      const lv = left[j - r];\n      const temp = N[r] / (rv + lv);\n      N[r] = saved + rv * temp;\n      saved = lv * temp;\n    }\n    N[j] = saved;\n  }\n  return N;\n}\nfunction calcBSplinePoint(p, U, P, u) {\n  const span = findSpan(p, u, U);\n  const N = calcBasisFunctions(span, u, p, U);\n  const C = new Vector4(0, 0, 0, 0);\n  for (let j = 0; j <= p; ++j) {\n    const point = P[span - p + j];\n    const Nj = N[j];\n    const wNj = point.w * Nj;\n    C.x += point.x * wNj;\n    C.y += point.y * wNj;\n    C.z += point.z * wNj;\n    C.w += point.w * Nj;\n  }\n  return C;\n}\nfunction calcBasisFunctionDerivatives(span, u, p, n, U) {\n  const zeroArr = [];\n  for (let i = 0; i <= p; ++i)\n    zeroArr[i] = 0;\n  const ders = [];\n  for (let i = 0; i <= n; ++i)\n    ders[i] = zeroArr.slice(0);\n  const ndu = [];\n  for (let i = 0; i <= p; ++i)\n    ndu[i] = zeroArr.slice(0);\n  ndu[0][0] = 1;\n  const left = zeroArr.slice(0);\n  const right = zeroArr.slice(0);\n  for (let j = 1; j <= p; ++j) {\n    left[j] = u - U[span + 1 - j];\n    right[j] = U[span + j] - u;\n    let saved = 0;\n    for (let r2 = 0; r2 < j; ++r2) {\n      const rv = right[r2 + 1];\n      const lv = left[j - r2];\n      ndu[j][r2] = rv + lv;\n      const temp = ndu[r2][j - 1] / ndu[j][r2];\n      ndu[r2][j] = saved + rv * temp;\n      saved = lv * temp;\n    }\n    ndu[j][j] = saved;\n  }\n  for (let j = 0; j <= p; ++j) {\n    ders[0][j] = ndu[j][p];\n  }\n  for (let r2 = 0; r2 <= p; ++r2) {\n    let s1 = 0;\n    let s2 = 1;\n    const a = [];\n    for (let i = 0; i <= p; ++i) {\n      a[i] = zeroArr.slice(0);\n    }\n    a[0][0] = 1;\n    for (let k = 1; k <= n; ++k) {\n      let d = 0;\n      const rk = r2 - k;\n      const pk = p - k;\n      if (r2 >= k) {\n        a[s2][0] = a[s1][0] / ndu[pk + 1][rk];\n        d = a[s2][0] * ndu[rk][pk];\n      }\n      const j1 = rk >= -1 ? 1 : -rk;\n      const j2 = r2 - 1 <= pk ? k - 1 : p - r2;\n      for (let j3 = j1; j3 <= j2; ++j3) {\n        a[s2][j3] = (a[s1][j3] - a[s1][j3 - 1]) / ndu[pk + 1][rk + j3];\n        d += a[s2][j3] * ndu[rk + j3][pk];\n      }\n      if (r2 <= pk) {\n        a[s2][k] = -a[s1][k - 1] / ndu[pk + 1][r2];\n        d += a[s2][k] * ndu[r2][pk];\n      }\n      ders[k][r2] = d;\n      const j = s1;\n      s1 = s2;\n      s2 = j;\n    }\n  }\n  let r = p;\n  for (let k = 1; k <= n; ++k) {\n    for (let j = 0; j <= p; ++j) {\n      ders[k][j] *= r;\n    }\n    r *= p - k;\n  }\n  return ders;\n}\nfunction calcBSplineDerivatives(p, U, P, u, nd) {\n  const du = nd < p ? nd : p;\n  const CK = [];\n  const span = findSpan(p, u, U);\n  const nders = calcBasisFunctionDerivatives(span, u, p, du, U);\n  const Pw = [];\n  for (let i = 0; i < P.length; ++i) {\n    const point = P[i].clone();\n    const w = point.w;\n    point.x *= w;\n    point.y *= w;\n    point.z *= w;\n    Pw[i] = point;\n  }\n  for (let k = 0; k <= du; ++k) {\n    const point = Pw[span - p].clone().multiplyScalar(nders[k][0]);\n    for (let j = 1; j <= p; ++j) {\n      point.add(Pw[span - p + j].clone().multiplyScalar(nders[k][j]));\n    }\n    CK[k] = point;\n  }\n  for (let k = du + 1; k <= nd + 1; ++k) {\n    CK[k] = new Vector4(0, 0, 0);\n  }\n  return CK;\n}\nfunction calcKoverI(k, i) {\n  let nom = 1;\n  for (let j = 2; j <= k; ++j) {\n    nom *= j;\n  }\n  let denom = 1;\n  for (let j = 2; j <= i; ++j) {\n    denom *= j;\n  }\n  for (let j = 2; j <= k - i; ++j) {\n    denom *= j;\n  }\n  return nom / denom;\n}\nfunction calcRationalCurveDerivatives(Pders) {\n  const nd = Pders.length;\n  const Aders = [];\n  const wders = [];\n  for (let i = 0; i < nd; ++i) {\n    const point = Pders[i];\n    Aders[i] = new Vector3(point.x, point.y, point.z);\n    wders[i] = point.w;\n  }\n  const CK = [];\n  for (let k = 0; k < nd; ++k) {\n    const v = Aders[k].clone();\n    for (let i = 1; i <= k; ++i) {\n      v.sub(CK[k - i].clone().multiplyScalar(calcKoverI(k, i) * wders[i]));\n    }\n    CK[k] = v.divideScalar(wders[0]);\n  }\n  return CK;\n}\nfunction calcNURBSDerivatives(p, U, P, u, nd) {\n  const Pders = calcBSplineDerivatives(p, U, P, u, nd);\n  return calcRationalCurveDerivatives(Pders);\n}\nclass NURBSCurve extends Curve {\n  constructor(degree, knots, controlPoints, startKnot, endKnot) {\n    super();\n    this.degree = degree;\n    this.knots = knots;\n    this.controlPoints = [];\n    this.startKnot = startKnot || 0;\n    this.endKnot = endKnot || this.knots.length - 1;\n    for (let i = 0; i < controlPoints.length; ++i) {\n      const point = controlPoints[i];\n      this.controlPoints[i] = new Vector4(point.x, point.y, point.z, point.w);\n    }\n  }\n  getPoint(t, optionalTarget = new Vector3()) {\n    const point = optionalTarget;\n    const u = this.knots[this.startKnot] + t * (this.knots[this.endKnot] - this.knots[this.startKnot]);\n    const hpoint = calcBSplinePoint(this.degree, this.knots, this.controlPoints, u);\n    if (hpoint.w !== 1) {\n      hpoint.divideScalar(hpoint.w);\n    }\n    return point.set(hpoint.x, hpoint.y, hpoint.z);\n  }\n  getTangent(t, optionalTarget = new Vector3()) {\n    const tangent = optionalTarget;\n    const u = this.knots[0] + t * (this.knots[this.knots.length - 1] - this.knots[0]);\n    const ders = calcNURBSDerivatives(this.degree, this.knots, this.controlPoints, u, 1);\n    tangent.copy(ders[1]).normalize();\n    return tangent;\n  }\n}\nlet fbxTree;\nlet connections;\nlet sceneGraph;\nclass FBXLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n  }\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    const path = scope.path === \"\" ? LoaderUtils.extractUrlBase(url) : scope.path;\n    const loader2 = new FileLoader(this.manager);\n    loader2.setPath(scope.path);\n    loader2.setResponseType(\"arraybuffer\");\n    loader2.setRequestHeader(scope.requestHeader);\n    loader2.setWithCredentials(scope.withCredentials);\n    loader2.load(url, function(buffer) {\n      try {\n        onLoad(scope.parse(buffer, path));\n      } catch (e) {\n        if (onError) {\n          onError(e);\n        } else {\n          console.error(e);\n        }\n        scope.manager.itemError(url);\n      }\n    }, onProgress, onError);\n  }\n  parse(FBXBuffer, path) {\n    if (isFbxFormatBinary(FBXBuffer)) {\n      fbxTree = new BinaryParser().parse(FBXBuffer);\n    } else {\n      const FBXText = convertArrayBufferToString(FBXBuffer);\n      if (!isFbxFormatASCII(FBXText)) {\n        throw new Error(\"THREE.FBXLoader: Unknown format.\");\n      }\n      if (getFbxVersion(FBXText) < 7e3) {\n        throw new Error(\"THREE.FBXLoader: FBX version not supported, FileVersion: \" + getFbxVersion(FBXText));\n      }\n      fbxTree = new TextParser().parse(FBXText);\n    }\n    const textureLoader = new TextureLoader(this.manager).setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\n    return new FBXTreeParser(textureLoader, this.manager).parse(fbxTree);\n  }\n}\nclass FBXTreeParser {\n  constructor(textureLoader, manager) {\n    this.textureLoader = textureLoader;\n    this.manager = manager;\n  }\n  parse() {\n    connections = this.parseConnections();\n    const images = this.parseImages();\n    const textures = this.parseTextures(images);\n    const materials = this.parseMaterials(textures);\n    const deformers = this.parseDeformers();\n    const geometryMap = new GeometryParser().parse(deformers);\n    this.parseScene(deformers, geometryMap, materials);\n    return sceneGraph;\n  }\n  parseConnections() {\n    const connectionMap = /* @__PURE__ */ new Map();\n    if (\"Connections\" in fbxTree) {\n      const rawConnections = fbxTree.Connections.connections;\n      rawConnections.forEach(function(rawConnection) {\n        const fromID = rawConnection[0];\n        const toID = rawConnection[1];\n        const relationship = rawConnection[2];\n        if (!connectionMap.has(fromID)) {\n          connectionMap.set(fromID, {\n            parents: [],\n            children: []\n          });\n        }\n        const parentRelationship = { ID: toID, relationship };\n        connectionMap.get(fromID).parents.push(parentRelationship);\n        if (!connectionMap.has(toID)) {\n          connectionMap.set(toID, {\n            parents: [],\n            children: []\n          });\n        }\n        const childRelationship = { ID: fromID, relationship };\n        connectionMap.get(toID).children.push(childRelationship);\n      });\n    }\n    return connectionMap;\n  }\n  parseImages() {\n    const images = {};\n    const blobs = {};\n    if (\"Video\" in fbxTree.Objects) {\n      const videoNodes = fbxTree.Objects.Video;\n      for (const nodeID in videoNodes) {\n        const videoNode = videoNodes[nodeID];\n        const id = parseInt(nodeID);\n        images[id] = videoNode.RelativeFilename || videoNode.Filename;\n        if (\"Content\" in videoNode) {\n          const arrayBufferContent = videoNode.Content instanceof ArrayBuffer && videoNode.Content.byteLength > 0;\n          const base64Content = typeof videoNode.Content === \"string\" && videoNode.Content !== \"\";\n          if (arrayBufferContent || base64Content) {\n            const image = this.parseImage(videoNodes[nodeID]);\n            blobs[videoNode.RelativeFilename || videoNode.Filename] = image;\n          }\n        }\n      }\n    }\n    for (const id in images) {\n      const filename = images[id];\n      if (blobs[filename] !== void 0)\n        images[id] = blobs[filename];\n      else\n        images[id] = images[id].split(\"\\\\\").pop();\n    }\n    return images;\n  }\n  parseImage(videoNode) {\n    const content = videoNode.Content;\n    const fileName = videoNode.RelativeFilename || videoNode.Filename;\n    const extension = fileName.slice(fileName.lastIndexOf(\".\") + 1).toLowerCase();\n    let type;\n    switch (extension) {\n      case \"bmp\":\n        type = \"image/bmp\";\n        break;\n      case \"jpg\":\n      case \"jpeg\":\n        type = \"image/jpeg\";\n        break;\n      case \"png\":\n        type = \"image/png\";\n        break;\n      case \"tif\":\n        type = \"image/tiff\";\n        break;\n      case \"tga\":\n        if (this.manager.getHandler(\".tga\") === null) {\n          console.warn(\"FBXLoader: TGA loader not found, skipping \", fileName);\n        }\n        type = \"image/tga\";\n        break;\n      default:\n        console.warn('FBXLoader: Image type \"' + extension + '\" is not supported.');\n        return;\n    }\n    if (typeof content === \"string\") {\n      return \"data:\" + type + \";base64,\" + content;\n    } else {\n      const array = new Uint8Array(content);\n      return window.URL.createObjectURL(new Blob([array], { type }));\n    }\n  }\n  parseTextures(images) {\n    const textureMap = /* @__PURE__ */ new Map();\n    if (\"Texture\" in fbxTree.Objects) {\n      const textureNodes = fbxTree.Objects.Texture;\n      for (const nodeID in textureNodes) {\n        const texture = this.parseTexture(textureNodes[nodeID], images);\n        textureMap.set(parseInt(nodeID), texture);\n      }\n    }\n    return textureMap;\n  }\n  parseTexture(textureNode, images) {\n    const texture = this.loadTexture(textureNode, images);\n    texture.ID = textureNode.id;\n    texture.name = textureNode.attrName;\n    const wrapModeU = textureNode.WrapModeU;\n    const wrapModeV = textureNode.WrapModeV;\n    const valueU = wrapModeU !== void 0 ? wrapModeU.value : 0;\n    const valueV = wrapModeV !== void 0 ? wrapModeV.value : 0;\n    texture.wrapS = valueU === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n    texture.wrapT = valueV === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n    if (\"Scaling\" in textureNode) {\n      const values = textureNode.Scaling.value;\n      texture.repeat.x = values[0];\n      texture.repeat.y = values[1];\n    }\n    if (\"Translation\" in textureNode) {\n      const values = textureNode.Translation.value;\n      texture.offset.x = values[0];\n      texture.offset.y = values[1];\n    }\n    return texture;\n  }\n  loadTexture(textureNode, images) {\n    let fileName;\n    const currentPath = this.textureLoader.path;\n    const children = connections.get(textureNode.id).children;\n    if (children !== void 0 && children.length > 0 && images[children[0].ID] !== void 0) {\n      fileName = images[children[0].ID];\n      if (fileName.indexOf(\"blob:\") === 0 || fileName.indexOf(\"data:\") === 0) {\n        this.textureLoader.setPath(void 0);\n      }\n    }\n    let texture;\n    const extension = textureNode.FileName.slice(-3).toLowerCase();\n    if (extension === \"tga\") {\n      const loader2 = this.manager.getHandler(\".tga\");\n      if (loader2 === null) {\n        console.warn(\"FBXLoader: TGA loader not found, creating placeholder texture for\", textureNode.RelativeFilename);\n        texture = new Texture();\n      } else {\n        loader2.setPath(this.textureLoader.path);\n        texture = loader2.load(fileName);\n      }\n    } else if (extension === \"psd\") {\n      console.warn(\"FBXLoader: PSD textures are not supported, creating placeholder texture for\", textureNode.RelativeFilename);\n      texture = new Texture();\n    } else {\n      texture = this.textureLoader.load(fileName);\n    }\n    this.textureLoader.setPath(currentPath);\n    return texture;\n  }\n  parseMaterials(textureMap) {\n    const materialMap = /* @__PURE__ */ new Map();\n    if (\"Material\" in fbxTree.Objects) {\n      const materialNodes = fbxTree.Objects.Material;\n      for (const nodeID in materialNodes) {\n        const material = this.parseMaterial(materialNodes[nodeID], textureMap);\n        if (material !== null)\n          materialMap.set(parseInt(nodeID), material);\n      }\n    }\n    return materialMap;\n  }\n  parseMaterial(materialNode, textureMap) {\n    const ID = materialNode.id;\n    const name = materialNode.attrName;\n    let type = materialNode.ShadingModel;\n    if (typeof type === \"object\") {\n      type = type.value;\n    }\n    if (!connections.has(ID))\n      return null;\n    const parameters = this.parseParameters(materialNode, textureMap, ID);\n    let material;\n    switch (type.toLowerCase()) {\n      case \"phong\":\n        material = new MeshPhongMaterial();\n        break;\n      case \"lambert\":\n        material = new MeshLambertMaterial();\n        break;\n      default:\n        console.warn('THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type);\n        material = new MeshPhongMaterial();\n        break;\n    }\n    material.setValues(parameters);\n    material.name = name;\n    return material;\n  }\n  parseParameters(materialNode, textureMap, ID) {\n    const parameters = {};\n    if (materialNode.BumpFactor) {\n      parameters.bumpScale = materialNode.BumpFactor.value;\n    }\n    if (materialNode.Diffuse) {\n      parameters.color = new Color().fromArray(materialNode.Diffuse.value);\n    } else if (materialNode.DiffuseColor && (materialNode.DiffuseColor.type === \"Color\" || materialNode.DiffuseColor.type === \"ColorRGB\")) {\n      parameters.color = new Color().fromArray(materialNode.DiffuseColor.value);\n    }\n    if (materialNode.DisplacementFactor) {\n      parameters.displacementScale = materialNode.DisplacementFactor.value;\n    }\n    if (materialNode.Emissive) {\n      parameters.emissive = new Color().fromArray(materialNode.Emissive.value);\n    } else if (materialNode.EmissiveColor && (materialNode.EmissiveColor.type === \"Color\" || materialNode.EmissiveColor.type === \"ColorRGB\")) {\n      parameters.emissive = new Color().fromArray(materialNode.EmissiveColor.value);\n    }\n    if (materialNode.EmissiveFactor) {\n      parameters.emissiveIntensity = parseFloat(materialNode.EmissiveFactor.value);\n    }\n    if (materialNode.Opacity) {\n      parameters.opacity = parseFloat(materialNode.Opacity.value);\n    }\n    if (parameters.opacity < 1) {\n      parameters.transparent = true;\n    }\n    if (materialNode.ReflectionFactor) {\n      parameters.reflectivity = materialNode.ReflectionFactor.value;\n    }\n    if (materialNode.Shininess) {\n      parameters.shininess = materialNode.Shininess.value;\n    }\n    if (materialNode.Specular) {\n      parameters.specular = new Color().fromArray(materialNode.Specular.value);\n    } else if (materialNode.SpecularColor && materialNode.SpecularColor.type === \"Color\") {\n      parameters.specular = new Color().fromArray(materialNode.SpecularColor.value);\n    }\n    const scope = this;\n    connections.get(ID).children.forEach(function(child) {\n      const type = child.relationship;\n      switch (type) {\n        case \"Bump\":\n          parameters.bumpMap = scope.getTexture(textureMap, child.ID);\n          break;\n        case \"Maya|TEX_ao_map\":\n          parameters.aoMap = scope.getTexture(textureMap, child.ID);\n          break;\n        case \"DiffuseColor\":\n        case \"Maya|TEX_color_map\":\n          parameters.map = scope.getTexture(textureMap, child.ID);\n          if (parameters.map !== void 0) {\n            parameters.map.encoding = sRGBEncoding;\n          }\n          break;\n        case \"DisplacementColor\":\n          parameters.displacementMap = scope.getTexture(textureMap, child.ID);\n          break;\n        case \"EmissiveColor\":\n          parameters.emissiveMap = scope.getTexture(textureMap, child.ID);\n          if (parameters.emissiveMap !== void 0) {\n            parameters.emissiveMap.encoding = sRGBEncoding;\n          }\n          break;\n        case \"NormalMap\":\n        case \"Maya|TEX_normal_map\":\n          parameters.normalMap = scope.getTexture(textureMap, child.ID);\n          break;\n        case \"ReflectionColor\":\n          parameters.envMap = scope.getTexture(textureMap, child.ID);\n          if (parameters.envMap !== void 0) {\n            parameters.envMap.mapping = EquirectangularReflectionMapping;\n            parameters.envMap.encoding = sRGBEncoding;\n          }\n          break;\n        case \"SpecularColor\":\n          parameters.specularMap = scope.getTexture(textureMap, child.ID);\n          if (parameters.specularMap !== void 0) {\n            parameters.specularMap.encoding = sRGBEncoding;\n          }\n          break;\n        case \"TransparentColor\":\n        case \"TransparencyFactor\":\n          parameters.alphaMap = scope.getTexture(textureMap, child.ID);\n          parameters.transparent = true;\n          break;\n        case \"AmbientColor\":\n        case \"ShininessExponent\":\n        case \"SpecularFactor\":\n        case \"VectorDisplacementColor\":\n        default:\n          console.warn(\"THREE.FBXLoader: %s map is not supported in three.js, skipping texture.\", type);\n          break;\n      }\n    });\n    return parameters;\n  }\n  getTexture(textureMap, id) {\n    if (\"LayeredTexture\" in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture) {\n      console.warn(\"THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.\");\n      id = connections.get(id).children[0].ID;\n    }\n    return textureMap.get(id);\n  }\n  parseDeformers() {\n    const skeletons = {};\n    const morphTargets = {};\n    if (\"Deformer\" in fbxTree.Objects) {\n      const DeformerNodes = fbxTree.Objects.Deformer;\n      for (const nodeID in DeformerNodes) {\n        const deformerNode = DeformerNodes[nodeID];\n        const relationships = connections.get(parseInt(nodeID));\n        if (deformerNode.attrType === \"Skin\") {\n          const skeleton = this.parseSkeleton(relationships, DeformerNodes);\n          skeleton.ID = nodeID;\n          if (relationships.parents.length > 1)\n            console.warn(\"THREE.FBXLoader: skeleton attached to more than one geometry is not supported.\");\n          skeleton.geometryID = relationships.parents[0].ID;\n          skeletons[nodeID] = skeleton;\n        } else if (deformerNode.attrType === \"BlendShape\") {\n          const morphTarget = {\n            id: nodeID\n          };\n          morphTarget.rawTargets = this.parseMorphTargets(relationships, DeformerNodes);\n          morphTarget.id = nodeID;\n          if (relationships.parents.length > 1)\n            console.warn(\"THREE.FBXLoader: morph target attached to more than one geometry is not supported.\");\n          morphTargets[nodeID] = morphTarget;\n        }\n      }\n    }\n    return {\n      skeletons,\n      morphTargets\n    };\n  }\n  parseSkeleton(relationships, deformerNodes) {\n    const rawBones = [];\n    relationships.children.forEach(function(child) {\n      const boneNode = deformerNodes[child.ID];\n      if (boneNode.attrType !== \"Cluster\")\n        return;\n      const rawBone = {\n        ID: child.ID,\n        indices: [],\n        weights: [],\n        transformLink: new Matrix4().fromArray(boneNode.TransformLink.a)\n      };\n      if (\"Indexes\" in boneNode) {\n        rawBone.indices = boneNode.Indexes.a;\n        rawBone.weights = boneNode.Weights.a;\n      }\n      rawBones.push(rawBone);\n    });\n    return {\n      rawBones,\n      bones: []\n    };\n  }\n  parseMorphTargets(relationships, deformerNodes) {\n    const rawMorphTargets = [];\n    for (let i = 0; i < relationships.children.length; i++) {\n      const child = relationships.children[i];\n      const morphTargetNode = deformerNodes[child.ID];\n      const rawMorphTarget = {\n        name: morphTargetNode.attrName,\n        initialWeight: morphTargetNode.DeformPercent,\n        id: morphTargetNode.id,\n        fullWeights: morphTargetNode.FullWeights.a\n      };\n      if (morphTargetNode.attrType !== \"BlendShapeChannel\")\n        return;\n      rawMorphTarget.geoID = connections.get(parseInt(child.ID)).children.filter(function(child2) {\n        return child2.relationship === void 0;\n      })[0].ID;\n      rawMorphTargets.push(rawMorphTarget);\n    }\n    return rawMorphTargets;\n  }\n  parseScene(deformers, geometryMap, materialMap) {\n    sceneGraph = new Group();\n    const modelMap = this.parseModels(deformers.skeletons, geometryMap, materialMap);\n    const modelNodes = fbxTree.Objects.Model;\n    const scope = this;\n    modelMap.forEach(function(model) {\n      const modelNode = modelNodes[model.ID];\n      scope.setLookAtProperties(model, modelNode);\n      const parentConnections = connections.get(model.ID).parents;\n      parentConnections.forEach(function(connection) {\n        const parent = modelMap.get(connection.ID);\n        if (parent !== void 0)\n          parent.add(model);\n      });\n      if (model.parent === null) {\n        sceneGraph.add(model);\n      }\n    });\n    this.bindSkeleton(deformers.skeletons, geometryMap, modelMap);\n    this.createAmbientLight();\n    sceneGraph.traverse(function(node) {\n      if (node.userData.transformData) {\n        if (node.parent) {\n          node.userData.transformData.parentMatrix = node.parent.matrix;\n          node.userData.transformData.parentMatrixWorld = node.parent.matrixWorld;\n        }\n        const transform = generateTransform(node.userData.transformData);\n        node.applyMatrix4(transform);\n        node.updateWorldMatrix();\n      }\n    });\n    const animations = new AnimationParser().parse();\n    if (sceneGraph.children.length === 1 && sceneGraph.children[0].isGroup) {\n      sceneGraph.children[0].animations = animations;\n      sceneGraph = sceneGraph.children[0];\n    }\n    sceneGraph.animations = animations;\n  }\n  parseModels(skeletons, geometryMap, materialMap) {\n    const modelMap = /* @__PURE__ */ new Map();\n    const modelNodes = fbxTree.Objects.Model;\n    for (const nodeID in modelNodes) {\n      const id = parseInt(nodeID);\n      const node = modelNodes[nodeID];\n      const relationships = connections.get(id);\n      let model = this.buildSkeleton(relationships, skeletons, id, node.attrName);\n      if (!model) {\n        switch (node.attrType) {\n          case \"Camera\":\n            model = this.createCamera(relationships);\n            break;\n          case \"Light\":\n            model = this.createLight(relationships);\n            break;\n          case \"Mesh\":\n            model = this.createMesh(relationships, geometryMap, materialMap);\n            break;\n          case \"NurbsCurve\":\n            model = this.createCurve(relationships, geometryMap);\n            break;\n          case \"LimbNode\":\n          case \"Root\":\n            model = new Bone();\n            break;\n          case \"Null\":\n          default:\n            model = new Group();\n            break;\n        }\n        model.name = node.attrName ? PropertyBinding.sanitizeNodeName(node.attrName) : \"\";\n        model.ID = id;\n      }\n      this.getTransformData(model, node);\n      modelMap.set(id, model);\n    }\n    return modelMap;\n  }\n  buildSkeleton(relationships, skeletons, id, name) {\n    let bone = null;\n    relationships.parents.forEach(function(parent) {\n      for (const ID in skeletons) {\n        const skeleton = skeletons[ID];\n        skeleton.rawBones.forEach(function(rawBone, i) {\n          if (rawBone.ID === parent.ID) {\n            const subBone = bone;\n            bone = new Bone();\n            bone.matrixWorld.copy(rawBone.transformLink);\n            bone.name = name ? PropertyBinding.sanitizeNodeName(name) : \"\";\n            bone.ID = id;\n            skeleton.bones[i] = bone;\n            if (subBone !== null) {\n              bone.add(subBone);\n            }\n          }\n        });\n      }\n    });\n    return bone;\n  }\n  createCamera(relationships) {\n    let model;\n    let cameraAttribute;\n    relationships.children.forEach(function(child) {\n      const attr = fbxTree.Objects.NodeAttribute[child.ID];\n      if (attr !== void 0) {\n        cameraAttribute = attr;\n      }\n    });\n    if (cameraAttribute === void 0) {\n      model = new Object3D();\n    } else {\n      let type = 0;\n      if (cameraAttribute.CameraProjectionType !== void 0 && cameraAttribute.CameraProjectionType.value === 1) {\n        type = 1;\n      }\n      let nearClippingPlane = 1;\n      if (cameraAttribute.NearPlane !== void 0) {\n        nearClippingPlane = cameraAttribute.NearPlane.value / 1e3;\n      }\n      let farClippingPlane = 1e3;\n      if (cameraAttribute.FarPlane !== void 0) {\n        farClippingPlane = cameraAttribute.FarPlane.value / 1e3;\n      }\n      let width = window.innerWidth;\n      let height = window.innerHeight;\n      if (cameraAttribute.AspectWidth !== void 0 && cameraAttribute.AspectHeight !== void 0) {\n        width = cameraAttribute.AspectWidth.value;\n        height = cameraAttribute.AspectHeight.value;\n      }\n      const aspect = width / height;\n      let fov = 45;\n      if (cameraAttribute.FieldOfView !== void 0) {\n        fov = cameraAttribute.FieldOfView.value;\n      }\n      const focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n      switch (type) {\n        case 0:\n          model = new PerspectiveCamera(fov, aspect, nearClippingPlane, farClippingPlane);\n          if (focalLength !== null)\n            model.setFocalLength(focalLength);\n          break;\n        case 1:\n          model = new OrthographicCamera(-width / 2, width / 2, height / 2, -height / 2, nearClippingPlane, farClippingPlane);\n          break;\n        default:\n          console.warn(\"THREE.FBXLoader: Unknown camera type \" + type + \".\");\n          model = new Object3D();\n          break;\n      }\n    }\n    return model;\n  }\n  createLight(relationships) {\n    let model;\n    let lightAttribute;\n    relationships.children.forEach(function(child) {\n      const attr = fbxTree.Objects.NodeAttribute[child.ID];\n      if (attr !== void 0) {\n        lightAttribute = attr;\n      }\n    });\n    if (lightAttribute === void 0) {\n      model = new Object3D();\n    } else {\n      let type;\n      if (lightAttribute.LightType === void 0) {\n        type = 0;\n      } else {\n        type = lightAttribute.LightType.value;\n      }\n      let color = 16777215;\n      if (lightAttribute.Color !== void 0) {\n        color = new Color().fromArray(lightAttribute.Color.value);\n      }\n      let intensity = lightAttribute.Intensity === void 0 ? 1 : lightAttribute.Intensity.value / 100;\n      if (lightAttribute.CastLightOnObject !== void 0 && lightAttribute.CastLightOnObject.value === 0) {\n        intensity = 0;\n      }\n      let distance = 0;\n      if (lightAttribute.FarAttenuationEnd !== void 0) {\n        if (lightAttribute.EnableFarAttenuation !== void 0 && lightAttribute.EnableFarAttenuation.value === 0) {\n          distance = 0;\n        } else {\n          distance = lightAttribute.FarAttenuationEnd.value;\n        }\n      }\n      const decay = 1;\n      switch (type) {\n        case 0:\n          model = new PointLight(color, intensity, distance, decay);\n          break;\n        case 1:\n          model = new DirectionalLight(color, intensity);\n          break;\n        case 2:\n          let angle = Math.PI / 3;\n          if (lightAttribute.InnerAngle !== void 0) {\n            angle = MathUtils.degToRad(lightAttribute.InnerAngle.value);\n          }\n          let penumbra = 0;\n          if (lightAttribute.OuterAngle !== void 0) {\n            penumbra = MathUtils.degToRad(lightAttribute.OuterAngle.value);\n            penumbra = Math.max(penumbra, 1);\n          }\n          model = new SpotLight(color, intensity, distance, angle, penumbra, decay);\n          break;\n        default:\n          console.warn(\"THREE.FBXLoader: Unknown light type \" + lightAttribute.LightType.value + \", defaulting to a PointLight.\");\n          model = new PointLight(color, intensity);\n          break;\n      }\n      if (lightAttribute.CastShadows !== void 0 && lightAttribute.CastShadows.value === 1) {\n        model.castShadow = true;\n      }\n    }\n    return model;\n  }\n  createMesh(relationships, geometryMap, materialMap) {\n    let model;\n    let geometry = null;\n    let material = null;\n    const materials = [];\n    relationships.children.forEach(function(child) {\n      if (geometryMap.has(child.ID)) {\n        geometry = geometryMap.get(child.ID);\n      }\n      if (materialMap.has(child.ID)) {\n        materials.push(materialMap.get(child.ID));\n      }\n    });\n    if (materials.length > 1) {\n      material = materials;\n    } else if (materials.length > 0) {\n      material = materials[0];\n    } else {\n      material = new MeshPhongMaterial({ color: 13421772 });\n      materials.push(material);\n    }\n    if (\"color\" in geometry.attributes) {\n      materials.forEach(function(material2) {\n        material2.vertexColors = true;\n      });\n    }\n    if (geometry.FBX_Deformer) {\n      model = new SkinnedMesh(geometry, material);\n      model.normalizeSkinWeights();\n    } else {\n      model = new Mesh(geometry, material);\n    }\n    return model;\n  }\n  createCurve(relationships, geometryMap) {\n    const geometry = relationships.children.reduce(function(geo, child) {\n      if (geometryMap.has(child.ID))\n        geo = geometryMap.get(child.ID);\n      return geo;\n    }, null);\n    const material = new LineBasicMaterial({ color: 3342591, linewidth: 1 });\n    return new Line(geometry, material);\n  }\n  getTransformData(model, modelNode) {\n    const transformData = {};\n    if (\"InheritType\" in modelNode)\n      transformData.inheritType = parseInt(modelNode.InheritType.value);\n    if (\"RotationOrder\" in modelNode)\n      transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);\n    else\n      transformData.eulerOrder = \"ZYX\";\n    if (\"Lcl_Translation\" in modelNode)\n      transformData.translation = modelNode.Lcl_Translation.value;\n    if (\"PreRotation\" in modelNode)\n      transformData.preRotation = modelNode.PreRotation.value;\n    if (\"Lcl_Rotation\" in modelNode)\n      transformData.rotation = modelNode.Lcl_Rotation.value;\n    if (\"PostRotation\" in modelNode)\n      transformData.postRotation = modelNode.PostRotation.value;\n    if (\"Lcl_Scaling\" in modelNode)\n      transformData.scale = modelNode.Lcl_Scaling.value;\n    if (\"ScalingOffset\" in modelNode)\n      transformData.scalingOffset = modelNode.ScalingOffset.value;\n    if (\"ScalingPivot\" in modelNode)\n      transformData.scalingPivot = modelNode.ScalingPivot.value;\n    if (\"RotationOffset\" in modelNode)\n      transformData.rotationOffset = modelNode.RotationOffset.value;\n    if (\"RotationPivot\" in modelNode)\n      transformData.rotationPivot = modelNode.RotationPivot.value;\n    model.userData.transformData = transformData;\n  }\n  setLookAtProperties(model, modelNode) {\n    if (\"LookAtProperty\" in modelNode) {\n      const children = connections.get(model.ID).children;\n      children.forEach(function(child) {\n        if (child.relationship === \"LookAtProperty\") {\n          const lookAtTarget = fbxTree.Objects.Model[child.ID];\n          if (\"Lcl_Translation\" in lookAtTarget) {\n            const pos = lookAtTarget.Lcl_Translation.value;\n            if (model.target !== void 0) {\n              model.target.position.fromArray(pos);\n              sceneGraph.add(model.target);\n            } else {\n              model.lookAt(new Vector3().fromArray(pos));\n            }\n          }\n        }\n      });\n    }\n  }\n  bindSkeleton(skeletons, geometryMap, modelMap) {\n    const bindMatrices = this.parsePoseNodes();\n    for (const ID in skeletons) {\n      const skeleton = skeletons[ID];\n      const parents = connections.get(parseInt(skeleton.ID)).parents;\n      parents.forEach(function(parent) {\n        if (geometryMap.has(parent.ID)) {\n          const geoID = parent.ID;\n          const geoRelationships = connections.get(geoID);\n          geoRelationships.parents.forEach(function(geoConnParent) {\n            if (modelMap.has(geoConnParent.ID)) {\n              const model = modelMap.get(geoConnParent.ID);\n              model.bind(new Skeleton(skeleton.bones), bindMatrices[geoConnParent.ID]);\n            }\n          });\n        }\n      });\n    }\n  }\n  parsePoseNodes() {\n    const bindMatrices = {};\n    if (\"Pose\" in fbxTree.Objects) {\n      const BindPoseNode = fbxTree.Objects.Pose;\n      for (const nodeID in BindPoseNode) {\n        if (BindPoseNode[nodeID].attrType === \"BindPose\" && BindPoseNode[nodeID].NbPoseNodes > 0) {\n          const poseNodes = BindPoseNode[nodeID].PoseNode;\n          if (Array.isArray(poseNodes)) {\n            poseNodes.forEach(function(poseNode) {\n              bindMatrices[poseNode.Node] = new Matrix4().fromArray(poseNode.Matrix.a);\n            });\n          } else {\n            bindMatrices[poseNodes.Node] = new Matrix4().fromArray(poseNodes.Matrix.a);\n          }\n        }\n      }\n    }\n    return bindMatrices;\n  }\n  createAmbientLight() {\n    if (\"GlobalSettings\" in fbxTree && \"AmbientColor\" in fbxTree.GlobalSettings) {\n      const ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n      const r = ambientColor[0];\n      const g = ambientColor[1];\n      const b = ambientColor[2];\n      if (r !== 0 || g !== 0 || b !== 0) {\n        const color = new Color(r, g, b);\n        sceneGraph.add(new AmbientLight(color, 1));\n      }\n    }\n  }\n}\nclass GeometryParser {\n  parse(deformers) {\n    const geometryMap = /* @__PURE__ */ new Map();\n    if (\"Geometry\" in fbxTree.Objects) {\n      const geoNodes = fbxTree.Objects.Geometry;\n      for (const nodeID in geoNodes) {\n        const relationships = connections.get(parseInt(nodeID));\n        const geo = this.parseGeometry(relationships, geoNodes[nodeID], deformers);\n        geometryMap.set(parseInt(nodeID), geo);\n      }\n    }\n    return geometryMap;\n  }\n  parseGeometry(relationships, geoNode, deformers) {\n    switch (geoNode.attrType) {\n      case \"Mesh\":\n        return this.parseMeshGeometry(relationships, geoNode, deformers);\n      case \"NurbsCurve\":\n        return this.parseNurbsGeometry(geoNode);\n    }\n  }\n  parseMeshGeometry(relationships, geoNode, deformers) {\n    const skeletons = deformers.skeletons;\n    const morphTargets = [];\n    const modelNodes = relationships.parents.map(function(parent) {\n      return fbxTree.Objects.Model[parent.ID];\n    });\n    if (modelNodes.length === 0)\n      return;\n    const skeleton = relationships.children.reduce(function(skeleton2, child) {\n      if (skeletons[child.ID] !== void 0)\n        skeleton2 = skeletons[child.ID];\n      return skeleton2;\n    }, null);\n    relationships.children.forEach(function(child) {\n      if (deformers.morphTargets[child.ID] !== void 0) {\n        morphTargets.push(deformers.morphTargets[child.ID]);\n      }\n    });\n    const modelNode = modelNodes[0];\n    const transformData = {};\n    if (\"RotationOrder\" in modelNode)\n      transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);\n    if (\"InheritType\" in modelNode)\n      transformData.inheritType = parseInt(modelNode.InheritType.value);\n    if (\"GeometricTranslation\" in modelNode)\n      transformData.translation = modelNode.GeometricTranslation.value;\n    if (\"GeometricRotation\" in modelNode)\n      transformData.rotation = modelNode.GeometricRotation.value;\n    if (\"GeometricScaling\" in modelNode)\n      transformData.scale = modelNode.GeometricScaling.value;\n    const transform = generateTransform(transformData);\n    return this.genGeometry(geoNode, skeleton, morphTargets, transform);\n  }\n  genGeometry(geoNode, skeleton, morphTargets, preTransform) {\n    const geo = new BufferGeometry();\n    if (geoNode.attrName)\n      geo.name = geoNode.attrName;\n    const geoInfo = this.parseGeoNode(geoNode, skeleton);\n    const buffers = this.genBuffers(geoInfo);\n    const positionAttribute = new Float32BufferAttribute(buffers.vertex, 3);\n    positionAttribute.applyMatrix4(preTransform);\n    geo.setAttribute(\"position\", positionAttribute);\n    if (buffers.colors.length > 0) {\n      geo.setAttribute(\"color\", new Float32BufferAttribute(buffers.colors, 3));\n    }\n    if (skeleton) {\n      geo.setAttribute(\"skinIndex\", new Uint16BufferAttribute(buffers.weightsIndices, 4));\n      geo.setAttribute(\"skinWeight\", new Float32BufferAttribute(buffers.vertexWeights, 4));\n      geo.FBX_Deformer = skeleton;\n    }\n    if (buffers.normal.length > 0) {\n      const normalMatrix = new Matrix3().getNormalMatrix(preTransform);\n      const normalAttribute = new Float32BufferAttribute(buffers.normal, 3);\n      normalAttribute.applyNormalMatrix(normalMatrix);\n      geo.setAttribute(\"normal\", normalAttribute);\n    }\n    buffers.uvs.forEach(function(uvBuffer, i) {\n      let name = \"uv\" + (i + 1).toString();\n      if (i === 0) {\n        name = \"uv\";\n      }\n      geo.setAttribute(name, new Float32BufferAttribute(buffers.uvs[i], 2));\n    });\n    if (geoInfo.material && geoInfo.material.mappingType !== \"AllSame\") {\n      let prevMaterialIndex = buffers.materialIndex[0];\n      let startIndex = 0;\n      buffers.materialIndex.forEach(function(currentIndex, i) {\n        if (currentIndex !== prevMaterialIndex) {\n          geo.addGroup(startIndex, i - startIndex, prevMaterialIndex);\n          prevMaterialIndex = currentIndex;\n          startIndex = i;\n        }\n      });\n      if (geo.groups.length > 0) {\n        const lastGroup = geo.groups[geo.groups.length - 1];\n        const lastIndex = lastGroup.start + lastGroup.count;\n        if (lastIndex !== buffers.materialIndex.length) {\n          geo.addGroup(lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex);\n        }\n      }\n      if (geo.groups.length === 0) {\n        geo.addGroup(0, buffers.materialIndex.length, buffers.materialIndex[0]);\n      }\n    }\n    this.addMorphTargets(geo, geoNode, morphTargets, preTransform);\n    return geo;\n  }\n  parseGeoNode(geoNode, skeleton) {\n    const geoInfo = {};\n    geoInfo.vertexPositions = geoNode.Vertices !== void 0 ? geoNode.Vertices.a : [];\n    geoInfo.vertexIndices = geoNode.PolygonVertexIndex !== void 0 ? geoNode.PolygonVertexIndex.a : [];\n    if (geoNode.LayerElementColor) {\n      geoInfo.color = this.parseVertexColors(geoNode.LayerElementColor[0]);\n    }\n    if (geoNode.LayerElementMaterial) {\n      geoInfo.material = this.parseMaterialIndices(geoNode.LayerElementMaterial[0]);\n    }\n    if (geoNode.LayerElementNormal) {\n      geoInfo.normal = this.parseNormals(geoNode.LayerElementNormal[0]);\n    }\n    if (geoNode.LayerElementUV) {\n      geoInfo.uv = [];\n      let i = 0;\n      while (geoNode.LayerElementUV[i]) {\n        if (geoNode.LayerElementUV[i].UV) {\n          geoInfo.uv.push(this.parseUVs(geoNode.LayerElementUV[i]));\n        }\n        i++;\n      }\n    }\n    geoInfo.weightTable = {};\n    if (skeleton !== null) {\n      geoInfo.skeleton = skeleton;\n      skeleton.rawBones.forEach(function(rawBone, i) {\n        rawBone.indices.forEach(function(index, j) {\n          if (geoInfo.weightTable[index] === void 0)\n            geoInfo.weightTable[index] = [];\n          geoInfo.weightTable[index].push({\n            id: i,\n            weight: rawBone.weights[j]\n          });\n        });\n      });\n    }\n    return geoInfo;\n  }\n  genBuffers(geoInfo) {\n    const buffers = {\n      vertex: [],\n      normal: [],\n      colors: [],\n      uvs: [],\n      materialIndex: [],\n      vertexWeights: [],\n      weightsIndices: []\n    };\n    let polygonIndex = 0;\n    let faceLength = 0;\n    let displayedWeightsWarning = false;\n    let facePositionIndexes = [];\n    let faceNormals = [];\n    let faceColors = [];\n    let faceUVs = [];\n    let faceWeights = [];\n    let faceWeightIndices = [];\n    const scope = this;\n    geoInfo.vertexIndices.forEach(function(vertexIndex, polygonVertexIndex) {\n      let materialIndex;\n      let endOfFace = false;\n      if (vertexIndex < 0) {\n        vertexIndex = vertexIndex ^ -1;\n        endOfFace = true;\n      }\n      let weightIndices = [];\n      let weights = [];\n      facePositionIndexes.push(vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2);\n      if (geoInfo.color) {\n        const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color);\n        faceColors.push(data[0], data[1], data[2]);\n      }\n      if (geoInfo.skeleton) {\n        if (geoInfo.weightTable[vertexIndex] !== void 0) {\n          geoInfo.weightTable[vertexIndex].forEach(function(wt) {\n            weights.push(wt.weight);\n            weightIndices.push(wt.id);\n          });\n        }\n        if (weights.length > 4) {\n          if (!displayedWeightsWarning) {\n            console.warn(\"THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.\");\n            displayedWeightsWarning = true;\n          }\n          const wIndex = [0, 0, 0, 0];\n          const Weight = [0, 0, 0, 0];\n          weights.forEach(function(weight, weightIndex) {\n            let currentWeight = weight;\n            let currentIndex = weightIndices[weightIndex];\n            Weight.forEach(function(comparedWeight, comparedWeightIndex, comparedWeightArray) {\n              if (currentWeight > comparedWeight) {\n                comparedWeightArray[comparedWeightIndex] = currentWeight;\n                currentWeight = comparedWeight;\n                const tmp = wIndex[comparedWeightIndex];\n                wIndex[comparedWeightIndex] = currentIndex;\n                currentIndex = tmp;\n              }\n            });\n          });\n          weightIndices = wIndex;\n          weights = Weight;\n        }\n        while (weights.length < 4) {\n          weights.push(0);\n          weightIndices.push(0);\n        }\n        for (let i = 0; i < 4; ++i) {\n          faceWeights.push(weights[i]);\n          faceWeightIndices.push(weightIndices[i]);\n        }\n      }\n      if (geoInfo.normal) {\n        const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal);\n        faceNormals.push(data[0], data[1], data[2]);\n      }\n      if (geoInfo.material && geoInfo.material.mappingType !== \"AllSame\") {\n        materialIndex = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material)[0];\n      }\n      if (geoInfo.uv) {\n        geoInfo.uv.forEach(function(uv, i) {\n          const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, uv);\n          if (faceUVs[i] === void 0) {\n            faceUVs[i] = [];\n          }\n          faceUVs[i].push(data[0]);\n          faceUVs[i].push(data[1]);\n        });\n      }\n      faceLength++;\n      if (endOfFace) {\n        scope.genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength);\n        polygonIndex++;\n        faceLength = 0;\n        facePositionIndexes = [];\n        faceNormals = [];\n        faceColors = [];\n        faceUVs = [];\n        faceWeights = [];\n        faceWeightIndices = [];\n      }\n    });\n    return buffers;\n  }\n  genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength) {\n    for (let i = 2; i < faceLength; i++) {\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[0]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[1]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[2]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 1]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 2]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 1]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 2]]);\n      if (geoInfo.skeleton) {\n        buffers.vertexWeights.push(faceWeights[0]);\n        buffers.vertexWeights.push(faceWeights[1]);\n        buffers.vertexWeights.push(faceWeights[2]);\n        buffers.vertexWeights.push(faceWeights[3]);\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4]);\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 1]);\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 2]);\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 3]);\n        buffers.vertexWeights.push(faceWeights[i * 4]);\n        buffers.vertexWeights.push(faceWeights[i * 4 + 1]);\n        buffers.vertexWeights.push(faceWeights[i * 4 + 2]);\n        buffers.vertexWeights.push(faceWeights[i * 4 + 3]);\n        buffers.weightsIndices.push(faceWeightIndices[0]);\n        buffers.weightsIndices.push(faceWeightIndices[1]);\n        buffers.weightsIndices.push(faceWeightIndices[2]);\n        buffers.weightsIndices.push(faceWeightIndices[3]);\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4]);\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 1]);\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 2]);\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 3]);\n        buffers.weightsIndices.push(faceWeightIndices[i * 4]);\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 1]);\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 2]);\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 3]);\n      }\n      if (geoInfo.color) {\n        buffers.colors.push(faceColors[0]);\n        buffers.colors.push(faceColors[1]);\n        buffers.colors.push(faceColors[2]);\n        buffers.colors.push(faceColors[(i - 1) * 3]);\n        buffers.colors.push(faceColors[(i - 1) * 3 + 1]);\n        buffers.colors.push(faceColors[(i - 1) * 3 + 2]);\n        buffers.colors.push(faceColors[i * 3]);\n        buffers.colors.push(faceColors[i * 3 + 1]);\n        buffers.colors.push(faceColors[i * 3 + 2]);\n      }\n      if (geoInfo.material && geoInfo.material.mappingType !== \"AllSame\") {\n        buffers.materialIndex.push(materialIndex);\n        buffers.materialIndex.push(materialIndex);\n        buffers.materialIndex.push(materialIndex);\n      }\n      if (geoInfo.normal) {\n        buffers.normal.push(faceNormals[0]);\n        buffers.normal.push(faceNormals[1]);\n        buffers.normal.push(faceNormals[2]);\n        buffers.normal.push(faceNormals[(i - 1) * 3]);\n        buffers.normal.push(faceNormals[(i - 1) * 3 + 1]);\n        buffers.normal.push(faceNormals[(i - 1) * 3 + 2]);\n        buffers.normal.push(faceNormals[i * 3]);\n        buffers.normal.push(faceNormals[i * 3 + 1]);\n        buffers.normal.push(faceNormals[i * 3 + 2]);\n      }\n      if (geoInfo.uv) {\n        geoInfo.uv.forEach(function(uv, j) {\n          if (buffers.uvs[j] === void 0)\n            buffers.uvs[j] = [];\n          buffers.uvs[j].push(faceUVs[j][0]);\n          buffers.uvs[j].push(faceUVs[j][1]);\n          buffers.uvs[j].push(faceUVs[j][(i - 1) * 2]);\n          buffers.uvs[j].push(faceUVs[j][(i - 1) * 2 + 1]);\n          buffers.uvs[j].push(faceUVs[j][i * 2]);\n          buffers.uvs[j].push(faceUVs[j][i * 2 + 1]);\n        });\n      }\n    }\n  }\n  addMorphTargets(parentGeo, parentGeoNode, morphTargets, preTransform) {\n    if (morphTargets.length === 0)\n      return;\n    parentGeo.morphTargetsRelative = true;\n    parentGeo.morphAttributes.position = [];\n    const scope = this;\n    morphTargets.forEach(function(morphTarget) {\n      morphTarget.rawTargets.forEach(function(rawTarget) {\n        const morphGeoNode = fbxTree.Objects.Geometry[rawTarget.geoID];\n        if (morphGeoNode !== void 0) {\n          scope.genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name);\n        }\n      });\n    });\n  }\n  genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, name) {\n    const vertexIndices = parentGeoNode.PolygonVertexIndex !== void 0 ? parentGeoNode.PolygonVertexIndex.a : [];\n    const morphPositionsSparse = morphGeoNode.Vertices !== void 0 ? morphGeoNode.Vertices.a : [];\n    const indices = morphGeoNode.Indexes !== void 0 ? morphGeoNode.Indexes.a : [];\n    const length = parentGeo.attributes.position.count * 3;\n    const morphPositions = new Float32Array(length);\n    for (let i = 0; i < indices.length; i++) {\n      const morphIndex = indices[i] * 3;\n      morphPositions[morphIndex] = morphPositionsSparse[i * 3];\n      morphPositions[morphIndex + 1] = morphPositionsSparse[i * 3 + 1];\n      morphPositions[morphIndex + 2] = morphPositionsSparse[i * 3 + 2];\n    }\n    const morphGeoInfo = {\n      vertexIndices,\n      vertexPositions: morphPositions\n    };\n    const morphBuffers = this.genBuffers(morphGeoInfo);\n    const positionAttribute = new Float32BufferAttribute(morphBuffers.vertex, 3);\n    positionAttribute.name = name || morphGeoNode.attrName;\n    positionAttribute.applyMatrix4(preTransform);\n    parentGeo.morphAttributes.position.push(positionAttribute);\n  }\n  parseNormals(NormalNode) {\n    const mappingType = NormalNode.MappingInformationType;\n    const referenceType = NormalNode.ReferenceInformationType;\n    const buffer = NormalNode.Normals.a;\n    let indexBuffer = [];\n    if (referenceType === \"IndexToDirect\") {\n      if (\"NormalIndex\" in NormalNode) {\n        indexBuffer = NormalNode.NormalIndex.a;\n      } else if (\"NormalsIndex\" in NormalNode) {\n        indexBuffer = NormalNode.NormalsIndex.a;\n      }\n    }\n    return {\n      dataSize: 3,\n      buffer,\n      indices: indexBuffer,\n      mappingType,\n      referenceType\n    };\n  }\n  parseUVs(UVNode) {\n    const mappingType = UVNode.MappingInformationType;\n    const referenceType = UVNode.ReferenceInformationType;\n    const buffer = UVNode.UV.a;\n    let indexBuffer = [];\n    if (referenceType === \"IndexToDirect\") {\n      indexBuffer = UVNode.UVIndex.a;\n    }\n    return {\n      dataSize: 2,\n      buffer,\n      indices: indexBuffer,\n      mappingType,\n      referenceType\n    };\n  }\n  parseVertexColors(ColorNode) {\n    const mappingType = ColorNode.MappingInformationType;\n    const referenceType = ColorNode.ReferenceInformationType;\n    const buffer = ColorNode.Colors.a;\n    let indexBuffer = [];\n    if (referenceType === \"IndexToDirect\") {\n      indexBuffer = ColorNode.ColorIndex.a;\n    }\n    return {\n      dataSize: 4,\n      buffer,\n      indices: indexBuffer,\n      mappingType,\n      referenceType\n    };\n  }\n  parseMaterialIndices(MaterialNode) {\n    const mappingType = MaterialNode.MappingInformationType;\n    const referenceType = MaterialNode.ReferenceInformationType;\n    if (mappingType === \"NoMappingInformation\") {\n      return {\n        dataSize: 1,\n        buffer: [0],\n        indices: [0],\n        mappingType: \"AllSame\",\n        referenceType\n      };\n    }\n    const materialIndexBuffer = MaterialNode.Materials.a;\n    const materialIndices = [];\n    for (let i = 0; i < materialIndexBuffer.length; ++i) {\n      materialIndices.push(i);\n    }\n    return {\n      dataSize: 1,\n      buffer: materialIndexBuffer,\n      indices: materialIndices,\n      mappingType,\n      referenceType\n    };\n  }\n  parseNurbsGeometry(geoNode) {\n    if (NURBSCurve === void 0) {\n      console.error(\"THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.\");\n      return new BufferGeometry();\n    }\n    const order = parseInt(geoNode.Order);\n    if (isNaN(order)) {\n      console.error(\"THREE.FBXLoader: Invalid Order %s given for geometry ID: %s\", geoNode.Order, geoNode.id);\n      return new BufferGeometry();\n    }\n    const degree = order - 1;\n    const knots = geoNode.KnotVector.a;\n    const controlPoints = [];\n    const pointsValues = geoNode.Points.a;\n    for (let i = 0, l = pointsValues.length; i < l; i += 4) {\n      controlPoints.push(new Vector4().fromArray(pointsValues, i));\n    }\n    let startKnot, endKnot;\n    if (geoNode.Form === \"Closed\") {\n      controlPoints.push(controlPoints[0]);\n    } else if (geoNode.Form === \"Periodic\") {\n      startKnot = degree;\n      endKnot = knots.length - 1 - startKnot;\n      for (let i = 0; i < degree; ++i) {\n        controlPoints.push(controlPoints[i]);\n      }\n    }\n    const curve = new NURBSCurve(degree, knots, controlPoints, startKnot, endKnot);\n    const points = curve.getPoints(controlPoints.length * 12);\n    return new BufferGeometry().setFromPoints(points);\n  }\n}\nclass AnimationParser {\n  parse() {\n    const animationClips = [];\n    const rawClips = this.parseClips();\n    if (rawClips !== void 0) {\n      for (const key in rawClips) {\n        const rawClip = rawClips[key];\n        const clip = this.addClip(rawClip);\n        animationClips.push(clip);\n      }\n    }\n    return animationClips;\n  }\n  parseClips() {\n    if (fbxTree.Objects.AnimationCurve === void 0)\n      return void 0;\n    const curveNodesMap = this.parseAnimationCurveNodes();\n    this.parseAnimationCurves(curveNodesMap);\n    const layersMap = this.parseAnimationLayers(curveNodesMap);\n    const rawClips = this.parseAnimStacks(layersMap);\n    return rawClips;\n  }\n  parseAnimationCurveNodes() {\n    const rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n    const curveNodesMap = /* @__PURE__ */ new Map();\n    for (const nodeID in rawCurveNodes) {\n      const rawCurveNode = rawCurveNodes[nodeID];\n      if (rawCurveNode.attrName.match(/S|R|T|DeformPercent/) !== null) {\n        const curveNode = {\n          id: rawCurveNode.id,\n          attr: rawCurveNode.attrName,\n          curves: {}\n        };\n        curveNodesMap.set(curveNode.id, curveNode);\n      }\n    }\n    return curveNodesMap;\n  }\n  parseAnimationCurves(curveNodesMap) {\n    const rawCurves = fbxTree.Objects.AnimationCurve;\n    for (const nodeID in rawCurves) {\n      const animationCurve = {\n        id: rawCurves[nodeID].id,\n        times: rawCurves[nodeID].KeyTime.a.map(convertFBXTimeToSeconds),\n        values: rawCurves[nodeID].KeyValueFloat.a\n      };\n      const relationships = connections.get(animationCurve.id);\n      if (relationships !== void 0) {\n        const animationCurveID = relationships.parents[0].ID;\n        const animationCurveRelationship = relationships.parents[0].relationship;\n        if (animationCurveRelationship.match(/X/)) {\n          curveNodesMap.get(animationCurveID).curves[\"x\"] = animationCurve;\n        } else if (animationCurveRelationship.match(/Y/)) {\n          curveNodesMap.get(animationCurveID).curves[\"y\"] = animationCurve;\n        } else if (animationCurveRelationship.match(/Z/)) {\n          curveNodesMap.get(animationCurveID).curves[\"z\"] = animationCurve;\n        } else if (animationCurveRelationship.match(/d|DeformPercent/) && curveNodesMap.has(animationCurveID)) {\n          curveNodesMap.get(animationCurveID).curves[\"morph\"] = animationCurve;\n        }\n      }\n    }\n  }\n  parseAnimationLayers(curveNodesMap) {\n    const rawLayers = fbxTree.Objects.AnimationLayer;\n    const layersMap = /* @__PURE__ */ new Map();\n    for (const nodeID in rawLayers) {\n      const layerCurveNodes = [];\n      const connection = connections.get(parseInt(nodeID));\n      if (connection !== void 0) {\n        const children = connection.children;\n        children.forEach(function(child, i) {\n          if (curveNodesMap.has(child.ID)) {\n            const curveNode = curveNodesMap.get(child.ID);\n            if (curveNode.curves.x !== void 0 || curveNode.curves.y !== void 0 || curveNode.curves.z !== void 0) {\n              if (layerCurveNodes[i] === void 0) {\n                const modelID = connections.get(child.ID).parents.filter(function(parent) {\n                  return parent.relationship !== void 0;\n                })[0].ID;\n                if (modelID !== void 0) {\n                  const rawModel = fbxTree.Objects.Model[modelID.toString()];\n                  if (rawModel === void 0) {\n                    console.warn(\"THREE.FBXLoader: Encountered a unused curve.\", child);\n                    return;\n                  }\n                  const node = {\n                    modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : \"\",\n                    ID: rawModel.id,\n                    initialPosition: [0, 0, 0],\n                    initialRotation: [0, 0, 0],\n                    initialScale: [1, 1, 1]\n                  };\n                  sceneGraph.traverse(function(child2) {\n                    if (child2.ID === rawModel.id) {\n                      node.transform = child2.matrix;\n                      if (child2.userData.transformData)\n                        node.eulerOrder = child2.userData.transformData.eulerOrder;\n                    }\n                  });\n                  if (!node.transform)\n                    node.transform = new Matrix4();\n                  if (\"PreRotation\" in rawModel)\n                    node.preRotation = rawModel.PreRotation.value;\n                  if (\"PostRotation\" in rawModel)\n                    node.postRotation = rawModel.PostRotation.value;\n                  layerCurveNodes[i] = node;\n                }\n              }\n              if (layerCurveNodes[i])\n                layerCurveNodes[i][curveNode.attr] = curveNode;\n            } else if (curveNode.curves.morph !== void 0) {\n              if (layerCurveNodes[i] === void 0) {\n                const deformerID = connections.get(child.ID).parents.filter(function(parent) {\n                  return parent.relationship !== void 0;\n                })[0].ID;\n                const morpherID = connections.get(deformerID).parents[0].ID;\n                const geoID = connections.get(morpherID).parents[0].ID;\n                const modelID = connections.get(geoID).parents[0].ID;\n                const rawModel = fbxTree.Objects.Model[modelID];\n                const node = {\n                  modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : \"\",\n                  morphName: fbxTree.Objects.Deformer[deformerID].attrName\n                };\n                layerCurveNodes[i] = node;\n              }\n              layerCurveNodes[i][curveNode.attr] = curveNode;\n            }\n          }\n        });\n        layersMap.set(parseInt(nodeID), layerCurveNodes);\n      }\n    }\n    return layersMap;\n  }\n  parseAnimStacks(layersMap) {\n    const rawStacks = fbxTree.Objects.AnimationStack;\n    const rawClips = {};\n    for (const nodeID in rawStacks) {\n      const children = connections.get(parseInt(nodeID)).children;\n      if (children.length > 1) {\n        console.warn(\"THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.\");\n      }\n      const layer = layersMap.get(children[0].ID);\n      rawClips[nodeID] = {\n        name: rawStacks[nodeID].attrName,\n        layer\n      };\n    }\n    return rawClips;\n  }\n  addClip(rawClip) {\n    let tracks = [];\n    const scope = this;\n    rawClip.layer.forEach(function(rawTracks) {\n      tracks = tracks.concat(scope.generateTracks(rawTracks));\n    });\n    return new AnimationClip(rawClip.name, -1, tracks);\n  }\n  generateTracks(rawTracks) {\n    const tracks = [];\n    let initialPosition = new Vector3();\n    let initialRotation = new Quaternion();\n    let initialScale = new Vector3();\n    if (rawTracks.transform)\n      rawTracks.transform.decompose(initialPosition, initialRotation, initialScale);\n    initialPosition = initialPosition.toArray();\n    initialRotation = new Euler().setFromQuaternion(initialRotation, rawTracks.eulerOrder).toArray();\n    initialScale = initialScale.toArray();\n    if (rawTracks.T !== void 0 && Object.keys(rawTracks.T.curves).length > 0) {\n      const positionTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.T.curves, initialPosition, \"position\");\n      if (positionTrack !== void 0)\n        tracks.push(positionTrack);\n    }\n    if (rawTracks.R !== void 0 && Object.keys(rawTracks.R.curves).length > 0) {\n      const rotationTrack = this.generateRotationTrack(rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder);\n      if (rotationTrack !== void 0)\n        tracks.push(rotationTrack);\n    }\n    if (rawTracks.S !== void 0 && Object.keys(rawTracks.S.curves).length > 0) {\n      const scaleTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.S.curves, initialScale, \"scale\");\n      if (scaleTrack !== void 0)\n        tracks.push(scaleTrack);\n    }\n    if (rawTracks.DeformPercent !== void 0) {\n      const morphTrack = this.generateMorphTrack(rawTracks);\n      if (morphTrack !== void 0)\n        tracks.push(morphTrack);\n    }\n    return tracks;\n  }\n  generateVectorTrack(modelName, curves, initialValue, type) {\n    const times = this.getTimesForAllAxes(curves);\n    const values = this.getKeyframeTrackValues(times, curves, initialValue);\n    return new VectorKeyframeTrack(modelName + \".\" + type, times, values);\n  }\n  generateRotationTrack(modelName, curves, initialValue, preRotation, postRotation, eulerOrder) {\n    if (curves.x !== void 0) {\n      this.interpolateRotations(curves.x);\n      curves.x.values = curves.x.values.map(MathUtils.degToRad);\n    }\n    if (curves.y !== void 0) {\n      this.interpolateRotations(curves.y);\n      curves.y.values = curves.y.values.map(MathUtils.degToRad);\n    }\n    if (curves.z !== void 0) {\n      this.interpolateRotations(curves.z);\n      curves.z.values = curves.z.values.map(MathUtils.degToRad);\n    }\n    const times = this.getTimesForAllAxes(curves);\n    const values = this.getKeyframeTrackValues(times, curves, initialValue);\n    if (preRotation !== void 0) {\n      preRotation = preRotation.map(MathUtils.degToRad);\n      preRotation.push(eulerOrder);\n      preRotation = new Euler().fromArray(preRotation);\n      preRotation = new Quaternion().setFromEuler(preRotation);\n    }\n    if (postRotation !== void 0) {\n      postRotation = postRotation.map(MathUtils.degToRad);\n      postRotation.push(eulerOrder);\n      postRotation = new Euler().fromArray(postRotation);\n      postRotation = new Quaternion().setFromEuler(postRotation).invert();\n    }\n    const quaternion = new Quaternion();\n    const euler = new Euler();\n    const quaternionValues = [];\n    for (let i = 0; i < values.length; i += 3) {\n      euler.set(values[i], values[i + 1], values[i + 2], eulerOrder);\n      quaternion.setFromEuler(euler);\n      if (preRotation !== void 0)\n        quaternion.premultiply(preRotation);\n      if (postRotation !== void 0)\n        quaternion.multiply(postRotation);\n      quaternion.toArray(quaternionValues, i / 3 * 4);\n    }\n    return new QuaternionKeyframeTrack(modelName + \".quaternion\", times, quaternionValues);\n  }\n  generateMorphTrack(rawTracks) {\n    const curves = rawTracks.DeformPercent.curves.morph;\n    const values = curves.values.map(function(val) {\n      return val / 100;\n    });\n    const morphNum = sceneGraph.getObjectByName(rawTracks.modelName).morphTargetDictionary[rawTracks.morphName];\n    return new NumberKeyframeTrack(rawTracks.modelName + \".morphTargetInfluences[\" + morphNum + \"]\", curves.times, values);\n  }\n  getTimesForAllAxes(curves) {\n    let times = [];\n    if (curves.x !== void 0)\n      times = times.concat(curves.x.times);\n    if (curves.y !== void 0)\n      times = times.concat(curves.y.times);\n    if (curves.z !== void 0)\n      times = times.concat(curves.z.times);\n    times = times.sort(function(a, b) {\n      return a - b;\n    });\n    if (times.length > 1) {\n      let targetIndex = 1;\n      let lastValue = times[0];\n      for (let i = 1; i < times.length; i++) {\n        const currentValue = times[i];\n        if (currentValue !== lastValue) {\n          times[targetIndex] = currentValue;\n          lastValue = currentValue;\n          targetIndex++;\n        }\n      }\n      times = times.slice(0, targetIndex);\n    }\n    return times;\n  }\n  getKeyframeTrackValues(times, curves, initialValue) {\n    const prevValue = initialValue;\n    const values = [];\n    let xIndex = -1;\n    let yIndex = -1;\n    let zIndex = -1;\n    times.forEach(function(time) {\n      if (curves.x)\n        xIndex = curves.x.times.indexOf(time);\n      if (curves.y)\n        yIndex = curves.y.times.indexOf(time);\n      if (curves.z)\n        zIndex = curves.z.times.indexOf(time);\n      if (xIndex !== -1) {\n        const xValue = curves.x.values[xIndex];\n        values.push(xValue);\n        prevValue[0] = xValue;\n      } else {\n        values.push(prevValue[0]);\n      }\n      if (yIndex !== -1) {\n        const yValue = curves.y.values[yIndex];\n        values.push(yValue);\n        prevValue[1] = yValue;\n      } else {\n        values.push(prevValue[1]);\n      }\n      if (zIndex !== -1) {\n        const zValue = curves.z.values[zIndex];\n        values.push(zValue);\n        prevValue[2] = zValue;\n      } else {\n        values.push(prevValue[2]);\n      }\n    });\n    return values;\n  }\n  interpolateRotations(curve) {\n    for (let i = 1; i < curve.values.length; i++) {\n      const initialValue = curve.values[i - 1];\n      const valuesSpan = curve.values[i] - initialValue;\n      const absoluteSpan = Math.abs(valuesSpan);\n      if (absoluteSpan >= 180) {\n        const numSubIntervals = absoluteSpan / 180;\n        const step = valuesSpan / numSubIntervals;\n        let nextValue = initialValue + step;\n        const initialTime = curve.times[i - 1];\n        const timeSpan = curve.times[i] - initialTime;\n        const interval = timeSpan / numSubIntervals;\n        let nextTime = initialTime + interval;\n        const interpolatedTimes = [];\n        const interpolatedValues = [];\n        while (nextTime < curve.times[i]) {\n          interpolatedTimes.push(nextTime);\n          nextTime += interval;\n          interpolatedValues.push(nextValue);\n          nextValue += step;\n        }\n        curve.times = inject(curve.times, i, interpolatedTimes);\n        curve.values = inject(curve.values, i, interpolatedValues);\n      }\n    }\n  }\n}\nclass TextParser {\n  getPrevNode() {\n    return this.nodeStack[this.currentIndent - 2];\n  }\n  getCurrentNode() {\n    return this.nodeStack[this.currentIndent - 1];\n  }\n  getCurrentProp() {\n    return this.currentProp;\n  }\n  pushStack(node) {\n    this.nodeStack.push(node);\n    this.currentIndent += 1;\n  }\n  popStack() {\n    this.nodeStack.pop();\n    this.currentIndent -= 1;\n  }\n  setCurrentProp(val, name) {\n    this.currentProp = val;\n    this.currentPropName = name;\n  }\n  parse(text) {\n    this.currentIndent = 0;\n    this.allNodes = new FBXTree();\n    this.nodeStack = [];\n    this.currentProp = [];\n    this.currentPropName = \"\";\n    const scope = this;\n    const split = text.split(/[\\r\\n]+/);\n    split.forEach(function(line, i) {\n      const matchComment = line.match(/^[\\s\\t]*;/);\n      const matchEmpty = line.match(/^[\\s\\t]*$/);\n      if (matchComment || matchEmpty)\n        return;\n      const matchBeginning = line.match(\"^\\\\t{\" + scope.currentIndent + \"}(\\\\w+):(.*){\", \"\");\n      const matchProperty = line.match(\"^\\\\t{\" + scope.currentIndent + \"}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)\");\n      const matchEnd = line.match(\"^\\\\t{\" + (scope.currentIndent - 1) + \"}}\");\n      if (matchBeginning) {\n        scope.parseNodeBegin(line, matchBeginning);\n      } else if (matchProperty) {\n        scope.parseNodeProperty(line, matchProperty, split[++i]);\n      } else if (matchEnd) {\n        scope.popStack();\n      } else if (line.match(/^[^\\s\\t}]/)) {\n        scope.parseNodePropertyContinued(line);\n      }\n    });\n    return this.allNodes;\n  }\n  parseNodeBegin(line, property) {\n    const nodeName = property[1].trim().replace(/^\"/, \"\").replace(/\"$/, \"\");\n    const nodeAttrs = property[2].split(\",\").map(function(attr) {\n      return attr.trim().replace(/^\"/, \"\").replace(/\"$/, \"\");\n    });\n    const node = { name: nodeName };\n    const attrs = this.parseNodeAttr(nodeAttrs);\n    const currentNode = this.getCurrentNode();\n    if (this.currentIndent === 0) {\n      this.allNodes.add(nodeName, node);\n    } else {\n      if (nodeName in currentNode) {\n        if (nodeName === \"PoseNode\") {\n          currentNode.PoseNode.push(node);\n        } else if (currentNode[nodeName].id !== void 0) {\n          currentNode[nodeName] = {};\n          currentNode[nodeName][currentNode[nodeName].id] = currentNode[nodeName];\n        }\n        if (attrs.id !== \"\")\n          currentNode[nodeName][attrs.id] = node;\n      } else if (typeof attrs.id === \"number\") {\n        currentNode[nodeName] = {};\n        currentNode[nodeName][attrs.id] = node;\n      } else if (nodeName !== \"Properties70\") {\n        if (nodeName === \"PoseNode\")\n          currentNode[nodeName] = [node];\n        else\n          currentNode[nodeName] = node;\n      }\n    }\n    if (typeof attrs.id === \"number\")\n      node.id = attrs.id;\n    if (attrs.name !== \"\")\n      node.attrName = attrs.name;\n    if (attrs.type !== \"\")\n      node.attrType = attrs.type;\n    this.pushStack(node);\n  }\n  parseNodeAttr(attrs) {\n    let id = attrs[0];\n    if (attrs[0] !== \"\") {\n      id = parseInt(attrs[0]);\n      if (isNaN(id)) {\n        id = attrs[0];\n      }\n    }\n    let name = \"\", type = \"\";\n    if (attrs.length > 1) {\n      name = attrs[1].replace(/^(\\w+)::/, \"\");\n      type = attrs[2];\n    }\n    return { id, name, type };\n  }\n  parseNodeProperty(line, property, contentLine) {\n    let propName = property[1].replace(/^\"/, \"\").replace(/\"$/, \"\").trim();\n    let propValue = property[2].replace(/^\"/, \"\").replace(/\"$/, \"\").trim();\n    if (propName === \"Content\" && propValue === \",\") {\n      propValue = contentLine.replace(/\"/g, \"\").replace(/,$/, \"\").trim();\n    }\n    const currentNode = this.getCurrentNode();\n    const parentName = currentNode.name;\n    if (parentName === \"Properties70\") {\n      this.parseNodeSpecialProperty(line, propName, propValue);\n      return;\n    }\n    if (propName === \"C\") {\n      const connProps = propValue.split(\",\").slice(1);\n      const from = parseInt(connProps[0]);\n      const to = parseInt(connProps[1]);\n      let rest = propValue.split(\",\").slice(3);\n      rest = rest.map(function(elem) {\n        return elem.trim().replace(/^\"/, \"\");\n      });\n      propName = \"connections\";\n      propValue = [from, to];\n      append(propValue, rest);\n      if (currentNode[propName] === void 0) {\n        currentNode[propName] = [];\n      }\n    }\n    if (propName === \"Node\")\n      currentNode.id = propValue;\n    if (propName in currentNode && Array.isArray(currentNode[propName])) {\n      currentNode[propName].push(propValue);\n    } else {\n      if (propName !== \"a\")\n        currentNode[propName] = propValue;\n      else\n        currentNode.a = propValue;\n    }\n    this.setCurrentProp(currentNode, propName);\n    if (propName === \"a\" && propValue.slice(-1) !== \",\") {\n      currentNode.a = parseNumberArray(propValue);\n    }\n  }\n  parseNodePropertyContinued(line) {\n    const currentNode = this.getCurrentNode();\n    currentNode.a += line;\n    if (line.slice(-1) !== \",\") {\n      currentNode.a = parseNumberArray(currentNode.a);\n    }\n  }\n  parseNodeSpecialProperty(line, propName, propValue) {\n    const props = propValue.split('\",').map(function(prop) {\n      return prop.trim().replace(/^\\\"/, \"\").replace(/\\s/, \"_\");\n    });\n    const innerPropName = props[0];\n    const innerPropType1 = props[1];\n    const innerPropType2 = props[2];\n    const innerPropFlag = props[3];\n    let innerPropValue = props[4];\n    switch (innerPropType1) {\n      case \"int\":\n      case \"enum\":\n      case \"bool\":\n      case \"ULongLong\":\n      case \"double\":\n      case \"Number\":\n      case \"FieldOfView\":\n        innerPropValue = parseFloat(innerPropValue);\n        break;\n      case \"Color\":\n      case \"ColorRGB\":\n      case \"Vector3D\":\n      case \"Lcl_Translation\":\n      case \"Lcl_Rotation\":\n      case \"Lcl_Scaling\":\n        innerPropValue = parseNumberArray(innerPropValue);\n        break;\n    }\n    this.getPrevNode()[innerPropName] = {\n      \"type\": innerPropType1,\n      \"type2\": innerPropType2,\n      \"flag\": innerPropFlag,\n      \"value\": innerPropValue\n    };\n    this.setCurrentProp(this.getPrevNode(), innerPropName);\n  }\n}\nclass BinaryParser {\n  parse(buffer) {\n    const reader = new BinaryReader(buffer);\n    reader.skip(23);\n    const version = reader.getUint32();\n    if (version < 6400) {\n      throw new Error(\"THREE.FBXLoader: FBX version not supported, FileVersion: \" + version);\n    }\n    const allNodes = new FBXTree();\n    while (!this.endOfContent(reader)) {\n      const node = this.parseNode(reader, version);\n      if (node !== null)\n        allNodes.add(node.name, node);\n    }\n    return allNodes;\n  }\n  endOfContent(reader) {\n    if (reader.size() % 16 === 0) {\n      return (reader.getOffset() + 160 + 16 & ~15) >= reader.size();\n    } else {\n      return reader.getOffset() + 160 + 16 >= reader.size();\n    }\n  }\n  parseNode(reader, version) {\n    const node = {};\n    const endOffset = version >= 7500 ? reader.getUint64() : reader.getUint32();\n    const numProperties = version >= 7500 ? reader.getUint64() : reader.getUint32();\n    version >= 7500 ? reader.getUint64() : reader.getUint32();\n    const nameLen = reader.getUint8();\n    const name = reader.getString(nameLen);\n    if (endOffset === 0)\n      return null;\n    const propertyList = [];\n    for (let i = 0; i < numProperties; i++) {\n      propertyList.push(this.parseProperty(reader));\n    }\n    const id = propertyList.length > 0 ? propertyList[0] : \"\";\n    const attrName = propertyList.length > 1 ? propertyList[1] : \"\";\n    const attrType = propertyList.length > 2 ? propertyList[2] : \"\";\n    node.singleProperty = numProperties === 1 && reader.getOffset() === endOffset ? true : false;\n    while (endOffset > reader.getOffset()) {\n      const subNode = this.parseNode(reader, version);\n      if (subNode !== null)\n        this.parseSubNode(name, node, subNode);\n    }\n    node.propertyList = propertyList;\n    if (typeof id === \"number\")\n      node.id = id;\n    if (attrName !== \"\")\n      node.attrName = attrName;\n    if (attrType !== \"\")\n      node.attrType = attrType;\n    if (name !== \"\")\n      node.name = name;\n    return node;\n  }\n  parseSubNode(name, node, subNode) {\n    if (subNode.singleProperty === true) {\n      const value = subNode.propertyList[0];\n      if (Array.isArray(value)) {\n        node[subNode.name] = subNode;\n        subNode.a = value;\n      } else {\n        node[subNode.name] = value;\n      }\n    } else if (name === \"Connections\" && subNode.name === \"C\") {\n      const array = [];\n      subNode.propertyList.forEach(function(property, i) {\n        if (i !== 0)\n          array.push(property);\n      });\n      if (node.connections === void 0) {\n        node.connections = [];\n      }\n      node.connections.push(array);\n    } else if (subNode.name === \"Properties70\") {\n      const keys = Object.keys(subNode);\n      keys.forEach(function(key) {\n        node[key] = subNode[key];\n      });\n    } else if (name === \"Properties70\" && subNode.name === \"P\") {\n      let innerPropName = subNode.propertyList[0];\n      let innerPropType1 = subNode.propertyList[1];\n      const innerPropType2 = subNode.propertyList[2];\n      const innerPropFlag = subNode.propertyList[3];\n      let innerPropValue;\n      if (innerPropName.indexOf(\"Lcl \") === 0)\n        innerPropName = innerPropName.replace(\"Lcl \", \"Lcl_\");\n      if (innerPropType1.indexOf(\"Lcl \") === 0)\n        innerPropType1 = innerPropType1.replace(\"Lcl \", \"Lcl_\");\n      if (innerPropType1 === \"Color\" || innerPropType1 === \"ColorRGB\" || innerPropType1 === \"Vector\" || innerPropType1 === \"Vector3D\" || innerPropType1.indexOf(\"Lcl_\") === 0) {\n        innerPropValue = [\n          subNode.propertyList[4],\n          subNode.propertyList[5],\n          subNode.propertyList[6]\n        ];\n      } else {\n        innerPropValue = subNode.propertyList[4];\n      }\n      node[innerPropName] = {\n        \"type\": innerPropType1,\n        \"type2\": innerPropType2,\n        \"flag\": innerPropFlag,\n        \"value\": innerPropValue\n      };\n    } else if (node[subNode.name] === void 0) {\n      if (typeof subNode.id === \"number\") {\n        node[subNode.name] = {};\n        node[subNode.name][subNode.id] = subNode;\n      } else {\n        node[subNode.name] = subNode;\n      }\n    } else {\n      if (subNode.name === \"PoseNode\") {\n        if (!Array.isArray(node[subNode.name])) {\n          node[subNode.name] = [node[subNode.name]];\n        }\n        node[subNode.name].push(subNode);\n      } else if (node[subNode.name][subNode.id] === void 0) {\n        node[subNode.name][subNode.id] = subNode;\n      }\n    }\n  }\n  parseProperty(reader) {\n    const type = reader.getString(1);\n    let length;\n    switch (type) {\n      case \"C\":\n        return reader.getBoolean();\n      case \"D\":\n        return reader.getFloat64();\n      case \"F\":\n        return reader.getFloat32();\n      case \"I\":\n        return reader.getInt32();\n      case \"L\":\n        return reader.getInt64();\n      case \"R\":\n        length = reader.getUint32();\n        return reader.getArrayBuffer(length);\n      case \"S\":\n        length = reader.getUint32();\n        return reader.getString(length);\n      case \"Y\":\n        return reader.getInt16();\n      case \"b\":\n      case \"c\":\n      case \"d\":\n      case \"f\":\n      case \"i\":\n      case \"l\":\n        const arrayLength = reader.getUint32();\n        const encoding = reader.getUint32();\n        const compressedLength = reader.getUint32();\n        if (encoding === 0) {\n          switch (type) {\n            case \"b\":\n            case \"c\":\n              return reader.getBooleanArray(arrayLength);\n            case \"d\":\n              return reader.getFloat64Array(arrayLength);\n            case \"f\":\n              return reader.getFloat32Array(arrayLength);\n            case \"i\":\n              return reader.getInt32Array(arrayLength);\n            case \"l\":\n              return reader.getInt64Array(arrayLength);\n          }\n        }\n        if (typeof fflate === \"undefined\") {\n          console.error(\"THREE.FBXLoader: External library fflate.min.js required.\");\n        }\n        const data = unzlibSync(new Uint8Array(reader.getArrayBuffer(compressedLength)));\n        const reader2 = new BinaryReader(data.buffer);\n        switch (type) {\n          case \"b\":\n          case \"c\":\n            return reader2.getBooleanArray(arrayLength);\n          case \"d\":\n            return reader2.getFloat64Array(arrayLength);\n          case \"f\":\n            return reader2.getFloat32Array(arrayLength);\n          case \"i\":\n            return reader2.getInt32Array(arrayLength);\n          case \"l\":\n            return reader2.getInt64Array(arrayLength);\n        }\n      default:\n        throw new Error(\"THREE.FBXLoader: Unknown property type \" + type);\n    }\n  }\n}\nclass BinaryReader {\n  constructor(buffer, littleEndian) {\n    this.dv = new DataView(buffer);\n    this.offset = 0;\n    this.littleEndian = littleEndian !== void 0 ? littleEndian : true;\n  }\n  getOffset() {\n    return this.offset;\n  }\n  size() {\n    return this.dv.buffer.byteLength;\n  }\n  skip(length) {\n    this.offset += length;\n  }\n  getBoolean() {\n    return (this.getUint8() & 1) === 1;\n  }\n  getBooleanArray(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getBoolean());\n    }\n    return a;\n  }\n  getUint8() {\n    const value = this.dv.getUint8(this.offset);\n    this.offset += 1;\n    return value;\n  }\n  getInt16() {\n    const value = this.dv.getInt16(this.offset, this.littleEndian);\n    this.offset += 2;\n    return value;\n  }\n  getInt32() {\n    const value = this.dv.getInt32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n  getInt32Array(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getInt32());\n    }\n    return a;\n  }\n  getUint32() {\n    const value = this.dv.getUint32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n  getInt64() {\n    let low, high;\n    if (this.littleEndian) {\n      low = this.getUint32();\n      high = this.getUint32();\n    } else {\n      high = this.getUint32();\n      low = this.getUint32();\n    }\n    if (high & 2147483648) {\n      high = ~high & 4294967295;\n      low = ~low & 4294967295;\n      if (low === 4294967295)\n        high = high + 1 & 4294967295;\n      low = low + 1 & 4294967295;\n      return -(high * 4294967296 + low);\n    }\n    return high * 4294967296 + low;\n  }\n  getInt64Array(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getInt64());\n    }\n    return a;\n  }\n  getUint64() {\n    let low, high;\n    if (this.littleEndian) {\n      low = this.getUint32();\n      high = this.getUint32();\n    } else {\n      high = this.getUint32();\n      low = this.getUint32();\n    }\n    return high * 4294967296 + low;\n  }\n  getFloat32() {\n    const value = this.dv.getFloat32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n  getFloat32Array(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getFloat32());\n    }\n    return a;\n  }\n  getFloat64() {\n    const value = this.dv.getFloat64(this.offset, this.littleEndian);\n    this.offset += 8;\n    return value;\n  }\n  getFloat64Array(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getFloat64());\n    }\n    return a;\n  }\n  getArrayBuffer(size) {\n    const value = this.dv.buffer.slice(this.offset, this.offset + size);\n    this.offset += size;\n    return value;\n  }\n  getString(size) {\n    let a = [];\n    for (let i = 0; i < size; i++) {\n      a[i] = this.getUint8();\n    }\n    const nullByte = a.indexOf(0);\n    if (nullByte >= 0)\n      a = a.slice(0, nullByte);\n    return LoaderUtils.decodeText(new Uint8Array(a));\n  }\n}\nclass FBXTree {\n  add(key, val) {\n    this[key] = val;\n  }\n}\nfunction isFbxFormatBinary(buffer) {\n  const CORRECT = \"Kaydara FBX Binary  \\0\";\n  return buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString(buffer, 0, CORRECT.length);\n}\nfunction isFbxFormatASCII(text) {\n  const CORRECT = [\"K\", \"a\", \"y\", \"d\", \"a\", \"r\", \"a\", \"\\\\\", \"F\", \"B\", \"X\", \"\\\\\", \"B\", \"i\", \"n\", \"a\", \"r\", \"y\", \"\\\\\", \"\\\\\"];\n  let cursor = 0;\n  function read(offset) {\n    const result = text[offset - 1];\n    text = text.slice(cursor + offset);\n    cursor++;\n    return result;\n  }\n  for (let i = 0; i < CORRECT.length; ++i) {\n    const num = read(1);\n    if (num === CORRECT[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getFbxVersion(text) {\n  const versionRegExp = /FBXVersion: (\\d+)/;\n  const match = text.match(versionRegExp);\n  if (match) {\n    const version = parseInt(match[1]);\n    return version;\n  }\n  throw new Error(\"THREE.FBXLoader: Cannot find the version number for the file given.\");\n}\nfunction convertFBXTimeToSeconds(time) {\n  return time / 46186158e3;\n}\nconst dataArray = [];\nfunction getData(polygonVertexIndex, polygonIndex, vertexIndex, infoObject) {\n  let index;\n  switch (infoObject.mappingType) {\n    case \"ByPolygonVertex\":\n      index = polygonVertexIndex;\n      break;\n    case \"ByPolygon\":\n      index = polygonIndex;\n      break;\n    case \"ByVertice\":\n      index = vertexIndex;\n      break;\n    case \"AllSame\":\n      index = infoObject.indices[0];\n      break;\n    default:\n      console.warn(\"THREE.FBXLoader: unknown attribute mapping type \" + infoObject.mappingType);\n  }\n  if (infoObject.referenceType === \"IndexToDirect\")\n    index = infoObject.indices[index];\n  const from = index * infoObject.dataSize;\n  const to = from + infoObject.dataSize;\n  return slice(dataArray, infoObject.buffer, from, to);\n}\nconst tempEuler = new Euler();\nconst tempVec = new Vector3();\nfunction generateTransform(transformData) {\n  const lTranslationM = new Matrix4();\n  const lPreRotationM = new Matrix4();\n  const lRotationM = new Matrix4();\n  const lPostRotationM = new Matrix4();\n  const lScalingM = new Matrix4();\n  const lScalingPivotM = new Matrix4();\n  const lScalingOffsetM = new Matrix4();\n  const lRotationOffsetM = new Matrix4();\n  const lRotationPivotM = new Matrix4();\n  const lParentGX = new Matrix4();\n  const lParentLX = new Matrix4();\n  const lGlobalT = new Matrix4();\n  const inheritType = transformData.inheritType ? transformData.inheritType : 0;\n  if (transformData.translation)\n    lTranslationM.setPosition(tempVec.fromArray(transformData.translation));\n  if (transformData.preRotation) {\n    const array = transformData.preRotation.map(MathUtils.degToRad);\n    array.push(transformData.eulerOrder);\n    lPreRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n  }\n  if (transformData.rotation) {\n    const array = transformData.rotation.map(MathUtils.degToRad);\n    array.push(transformData.eulerOrder);\n    lRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n  }\n  if (transformData.postRotation) {\n    const array = transformData.postRotation.map(MathUtils.degToRad);\n    array.push(transformData.eulerOrder);\n    lPostRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n    lPostRotationM.invert();\n  }\n  if (transformData.scale)\n    lScalingM.scale(tempVec.fromArray(transformData.scale));\n  if (transformData.scalingOffset)\n    lScalingOffsetM.setPosition(tempVec.fromArray(transformData.scalingOffset));\n  if (transformData.scalingPivot)\n    lScalingPivotM.setPosition(tempVec.fromArray(transformData.scalingPivot));\n  if (transformData.rotationOffset)\n    lRotationOffsetM.setPosition(tempVec.fromArray(transformData.rotationOffset));\n  if (transformData.rotationPivot)\n    lRotationPivotM.setPosition(tempVec.fromArray(transformData.rotationPivot));\n  if (transformData.parentMatrixWorld) {\n    lParentLX.copy(transformData.parentMatrix);\n    lParentGX.copy(transformData.parentMatrixWorld);\n  }\n  const lLRM = lPreRotationM.clone().multiply(lRotationM).multiply(lPostRotationM);\n  const lParentGRM = new Matrix4();\n  lParentGRM.extractRotation(lParentGX);\n  const lParentTM = new Matrix4();\n  lParentTM.copyPosition(lParentGX);\n  const lParentGRSM = lParentTM.clone().invert().multiply(lParentGX);\n  const lParentGSM = lParentGRM.clone().invert().multiply(lParentGRSM);\n  const lLSM = lScalingM;\n  const lGlobalRS = new Matrix4();\n  if (inheritType === 0) {\n    lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM).multiply(lLSM);\n  } else if (inheritType === 1) {\n    lGlobalRS.copy(lParentGRM).multiply(lParentGSM).multiply(lLRM).multiply(lLSM);\n  } else {\n    const lParentLSM = new Matrix4().scale(new Vector3().setFromMatrixScale(lParentLX));\n    const lParentLSM_inv = lParentLSM.clone().invert();\n    const lParentGSM_noLocal = lParentGSM.clone().multiply(lParentLSM_inv);\n    lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM_noLocal).multiply(lLSM);\n  }\n  const lRotationPivotM_inv = lRotationPivotM.clone().invert();\n  const lScalingPivotM_inv = lScalingPivotM.clone().invert();\n  let lTransform = lTranslationM.clone().multiply(lRotationOffsetM).multiply(lRotationPivotM).multiply(lPreRotationM).multiply(lRotationM).multiply(lPostRotationM).multiply(lRotationPivotM_inv).multiply(lScalingOffsetM).multiply(lScalingPivotM).multiply(lScalingM).multiply(lScalingPivotM_inv);\n  const lLocalTWithAllPivotAndOffsetInfo = new Matrix4().copyPosition(lTransform);\n  const lGlobalTranslation = lParentGX.clone().multiply(lLocalTWithAllPivotAndOffsetInfo);\n  lGlobalT.copyPosition(lGlobalTranslation);\n  lTransform = lGlobalT.clone().multiply(lGlobalRS);\n  lTransform.premultiply(lParentGX.invert());\n  return lTransform;\n}\nfunction getEulerOrder(order) {\n  order = order || 0;\n  const enums = [\n    \"ZYX\",\n    \"YZX\",\n    \"XZY\",\n    \"ZXY\",\n    \"YXZ\",\n    \"XYZ\"\n  ];\n  if (order === 6) {\n    console.warn(\"THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.\");\n    return enums[0];\n  }\n  return enums[order];\n}\nfunction parseNumberArray(value) {\n  const array = value.split(\",\").map(function(val) {\n    return parseFloat(val);\n  });\n  return array;\n}\nfunction convertArrayBufferToString(buffer, from, to) {\n  if (from === void 0)\n    from = 0;\n  if (to === void 0)\n    to = buffer.byteLength;\n  return LoaderUtils.decodeText(new Uint8Array(buffer, from, to));\n}\nfunction append(a, b) {\n  for (let i = 0, j = a.length, l = b.length; i < l; i++, j++) {\n    a[j] = b[i];\n  }\n}\nfunction slice(a, b, from, to) {\n  for (let i = from, j = 0; i < to; i++, j++) {\n    a[j] = b[i];\n  }\n  return a;\n}\nfunction inject(a1, index, a2) {\n  return a1.slice(0, index).concat(a2).concat(a1.slice(index));\n}\nconst cache = /* @__PURE__ */ new Map();\nconst loader = new FBXLoader();\nvar loadFBX = async (url, clone) => {\n  const [group, noBone] = await forceGet(cache, url, () => new Promise((resolve, reject) => {\n    increaseLoadingCount();\n    loader.load(url, (group2) => {\n      decreaseLoadingCount();\n      let noBone2 = true;\n      group2.traverse((child) => {\n        var _a2;\n        noBone2 && child instanceof Bone && (noBone2 = false);\n        ((_a2 = child.material) == null ? void 0 : _a2.map) && (child.material.map.encoding = LinearEncoding);\n      });\n      resolve([group2, noBone2]);\n    }, handleProgress, () => {\n      decreaseLoadingCount();\n      reject();\n    });\n  }));\n  if (clone)\n    return cloneSkinnedMesh(group, noBone);\n  return group;\n};\nexport { loadFBX as default };\n"],"names":["ch2","durl","c","URL","createObjectURL","Blob","type","cwk","u","Worker","revokeObjectURL","e","encodeURI","wk","id","msg","transfer","cb","w","onerror","error","onmessage","data","postMessage","u8","Uint8Array","u16","Uint16Array","u32","Uint32Array","fleb","fdeb","clim","freb","eb","start","b","i","r","j","_a","fl","revfl","_b","fd","revfd","rev","x","hMap","cd","mb","s","length","l","co","le","rvb","sv","r_1","v","m","flt","fdt","flm","flrm","fdm","fdrm","max","a","bits","d","p","o","bits16","shft","slc","n","set","subarray","inflt","dat","buf","st","sl","noBuf","noSt","cbuf","l2","bl","nbuf","Math","final","f","pos","bt","lm","dm","lbt","dbt","tbts","t","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","lpos","sym","add","dsym","end","wbits","wbits16","hTree","push","t2","slice","et","sort","i0","i1","i2","maxSym","tr","mbt","ln","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","clen","cf","wfblk","out","wblk","syms","lf","df","li","bs","_a2","dlt","mlb","_b2","ddt","mdb","_c","lclt","nlc","_d","lcdt","ndc","lcfreq","_e","lct","mlcb","nlcc","ll","dl","flen","ftlen","dtlen","llm","lcts","it","clct","len","dst","deo","dflt","lvl","plvl","pre","post","lst","ceil","opt","msk_1","prev","head","bs1_1","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","min","maxd","ml","nl","mmd","md","ti","pti","lin","din","crct","k","crc","cr","adler","dopt","level","mem","log","mrg","wcln","fn","fnStr","td2","toString","ks","indexOf","lastIndexOf","replace","split","st_1","prototype","spInd","ch","cbfs","constructor","buffer","wrkr","fns","init","td_1","bInflt","inflateSync","pbf","gu8","bDflt","deflateSync","gze","gzh","gzhl","wbytes","guze","gzs","gzl","zle","zlh","zule","zlv","size","cbify","opts","err","dat2","terminate","consume","astrm","strm","ondata","ev","astrmify","call","b2","b4","b8","filename","mtime","floor","Date","now","charCodeAt","flg","zs","lv","fl2","AsyncCmpStrm","this","Deflate","Deflate2","chunk","AsyncDeflate","AsyncDeflate2","deflate","Inflate","Inflate2","bts","AsyncInflate","AsyncInflate2","inflate","Gzip","Gzip2","raw","AsyncGzip","AsyncGzip2","gzip","gzipSync","Gunzip","Gunzip2","AsyncGunzip","AsyncGunzip2","gunzip","gunzipSync","Zlib","Zlib2","AsyncZlib","AsyncZlib2","zlib","zlibSync","Unzlib","Unzlib2","AsyncUnzlib","AsyncUnzlib2","unzlib","unzlibSync","Decompress","Decompress2","G","I","Z","_this_1","apply","arguments","AsyncDecompress","AsyncDecompress2","decompress","decompressSync","fltn","val","Array","isArray","te","TextEncoder","td","TextDecoder","tds","decode","stream","dutf8","String","fromCharCode","DecodeUTF8","DecodeUTF82","ch3","np","EncodeUTF8","EncodeUTF82","strToU8","str","latin1","ar_1","encode","ar","ai","strFromU8","ext","dbf","slzh","zh","z","fnl","es","z64e","sc","su","off","exfl","ex","wzh","ce","extra","col","exl","os","flag","compression","y","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","attrs","exf","wzf","ZipPassThrough","ZipPassThrough2","process","ZipDeflate","ZipDeflate2","AsyncZipDeflate","AsyncZipDeflate2","Zip","Zip2","file","com","comment","hl","header","chks","pAll","_i","chks_1","chk","ind","uf","nxt","dd","splice","zip","Object","keys","tot","slft","files","term","tAll","cbf","oe","cdl","badd","loc","_loop_1","ms","cbl","zipSync","UnzipPassThrough","UnzipPassThrough2","UnzipInflate","UnzipInflate2","AsyncUnzipInflate","AsyncUnzipInflate2","_","sz","Unzip","Unzip2","onfile","toAdd","is","oc","_loop_2","sig","this_1","bf","cmp_1","chks_2","unshift","d_1","sc_1","su_1","fn_1","file_1","name","ctr","dat3","final2","chks_3","originalSize","state_1","register","decoder","unzip","_loop_3","c_1","no","e2","infl","unzipSync","c_2","fflate","freeze","defineProperty","__proto__","compress","AsyncCompress","compressSync","Compress","Symbol","toStringTag","value","findSpan","U","low","high","mid","calcBasisFunctions","span","N","left","right","saved","rv","temp","calcBSplinePoint","P","C","Vector4","point","Nj","wNj","calcBasisFunctionDerivatives","zeroArr","ders","ndu","r2","s1","s2","rk","pk","j1","j2","j3","calcBSplineDerivatives","nd","du","CK","nders","Pw","clone","multiplyScalar","calcKoverI","nom","denom","calcRationalCurveDerivatives","Pders","Aders","wders","Vector3","sub","divideScalar","calcNURBSDerivatives","NURBSCurve","Curve","degree","knots","controlPoints","startKnot","endKnot","super","getPoint","optionalTarget","hpoint","getTangent","tangent","copy","normalize","fbxTree","connections","sceneGraph","FBXLoader","Loader","manager","load","url","onLoad","onProgress","onError","scope","path","LoaderUtils","loader2","FileLoader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","parse","console","itemError","FBXBuffer","isFbxFormatBinary","BinaryParser","FBXText","convertArrayBufferToString","isFbxFormatASCII","Error","getFbxVersion","TextParser","textureLoader","TextureLoader","resourcePath","setCrossOrigin","crossOrigin","FBXTreeParser","parseConnections","images","parseImages","textures","parseTextures","materials","parseMaterials","deformers","parseDeformers","geometryMap","GeometryParser","parseScene","connectionMap","Map","rawConnections","Connections","forEach","rawConnection","fromID","toID","relationship","has","parents","children","parentRelationship","ID","get","childRelationship","blobs","Objects","videoNodes","Video","nodeID","videoNode","parseInt","RelativeFilename","Filename","arrayBufferContent","Content","ArrayBuffer","byteLength","base64Content","image","parseImage","pop","content","fileName","extension","toLowerCase","getHandler","warn","array","window","textureMap","textureNodes","Texture","texture","parseTexture","textureNode","loadTexture","attrName","wrapModeU","WrapModeU","wrapModeV","WrapModeV","valueU","valueV","wrapS","RepeatWrapping","ClampToEdgeWrapping","wrapT","values","Scaling","repeat","Translation","offset","currentPath","FileName","materialMap","materialNodes","Material","material","parseMaterial","materialNode","ShadingModel","parameters","parseParameters","MeshPhongMaterial","MeshLambertMaterial","setValues","BumpFactor","bumpScale","Diffuse","color","Color","fromArray","DiffuseColor","DisplacementFactor","displacementScale","Emissive","emissive","EmissiveColor","EmissiveFactor","emissiveIntensity","parseFloat","Opacity","opacity","transparent","ReflectionFactor","reflectivity","Shininess","shininess","Specular","specular","SpecularColor","child","bumpMap","getTexture","aoMap","map","encoding","sRGBEncoding","displacementMap","emissiveMap","normalMap","envMap","mapping","EquirectangularReflectionMapping","specularMap","alphaMap","LayeredTexture","skeletons","morphTargets","DeformerNodes","Deformer","deformerNode","relationships","attrType","skeleton","parseSkeleton","geometryID","morphTarget","rawTargets","parseMorphTargets","deformerNodes","rawBones","boneNode","rawBone","indices","weights","transformLink","Matrix4","TransformLink","Indexes","Weights","bones","rawMorphTargets","morphTargetNode","rawMorphTarget","initialWeight","DeformPercent","fullWeights","FullWeights","geoID","filter","child2","Group","modelMap","parseModels","modelNodes","Model","model","modelNode","setLookAtProperties","parentConnections","connection","parent","bindSkeleton","createAmbientLight","traverse","node","userData","transformData","parentMatrix","matrix","parentMatrixWorld","matrixWorld","transform","generateTransform","applyMatrix4","updateWorldMatrix","animations","AnimationParser","isGroup","buildSkeleton","createCamera","createLight","createMesh","createCurve","Bone","PropertyBinding","getTransformData","bone","subBone","cameraAttribute","attr","NodeAttribute","Object3D","CameraProjectionType","nearClippingPlane","NearPlane","farClippingPlane","FarPlane","width","innerWidth","height","innerHeight","AspectWidth","AspectHeight","aspect","fov","FieldOfView","focalLength","FocalLength","PerspectiveCamera","setFocalLength","OrthographicCamera","lightAttribute","LightType","intensity","Intensity","CastLightOnObject","distance","FarAttenuationEnd","EnableFarAttenuation","decay","PointLight","DirectionalLight","angle","PI","InnerAngle","MathUtils","penumbra","OuterAngle","SpotLight","CastShadows","castShadow","geometry","attributes","material2","vertexColors","FBX_Deformer","SkinnedMesh","normalizeSkinWeights","Mesh","reduce","geo","LineBasicMaterial","linewidth","Line","inheritType","InheritType","eulerOrder","getEulerOrder","RotationOrder","translation","Lcl_Translation","preRotation","PreRotation","rotation","Lcl_Rotation","postRotation","PostRotation","scale","Lcl_Scaling","scalingOffset","ScalingOffset","scalingPivot","ScalingPivot","rotationOffset","RotationOffset","rotationPivot","RotationPivot","lookAtTarget","target","position","lookAt","bindMatrices","parsePoseNodes","geoRelationships","geoConnParent","bind","Skeleton","BindPoseNode","Pose","NbPoseNodes","poseNodes","PoseNode","poseNode","Node","Matrix","GlobalSettings","ambientColor","AmbientColor","g","AmbientLight","geoNodes","Geometry","parseGeometry","geoNode","parseMeshGeometry","parseNurbsGeometry","skeleton2","GeometricTranslation","GeometricRotation","GeometricScaling","genGeometry","preTransform","BufferGeometry","geoInfo","parseGeoNode","buffers","genBuffers","positionAttribute","Float32BufferAttribute","vertex","setAttribute","colors","Uint16BufferAttribute","weightsIndices","vertexWeights","normal","normalMatrix","Matrix3","getNormalMatrix","normalAttribute","applyNormalMatrix","uvs","uvBuffer","mappingType","prevMaterialIndex","materialIndex","startIndex","currentIndex","addGroup","groups","lastGroup","lastIndex","count","addMorphTargets","vertexPositions","Vertices","vertexIndices","PolygonVertexIndex","LayerElementColor","parseVertexColors","LayerElementMaterial","parseMaterialIndices","LayerElementNormal","parseNormals","LayerElementUV","uv","UV","parseUVs","weightTable","index","weight","polygonIndex","faceLength","displayedWeightsWarning","facePositionIndexes","faceNormals","faceColors","faceUVs","faceWeights","faceWeightIndices","vertexIndex","polygonVertexIndex","endOfFace","weightIndices","getData","wt","wIndex","Weight","weightIndex","currentWeight","comparedWeight","comparedWeightIndex","comparedWeightArray","tmp","genFace","parentGeo","parentGeoNode","morphTargetsRelative","morphAttributes","rawTarget","morphGeoNode","genMorphGeometry","morphPositionsSparse","morphPositions","Float32Array","morphIndex","morphGeoInfo","morphBuffers","NormalNode","MappingInformationType","referenceType","ReferenceInformationType","Normals","indexBuffer","NormalIndex","NormalsIndex","dataSize","UVNode","UVIndex","ColorNode","Colors","ColorIndex","MaterialNode","materialIndexBuffer","Materials","materialIndices","order","Order","isNaN","KnotVector","pointsValues","Points","Form","curve","points","getPoints","setFromPoints","animationClips","rawClips","parseClips","key","rawClip","clip","addClip","AnimationCurve","curveNodesMap","parseAnimationCurveNodes","parseAnimationCurves","layersMap","parseAnimationLayers","parseAnimStacks","rawCurveNodes","AnimationCurveNode","rawCurveNode","match","curveNode","curves","rawCurves","animationCurve","times","KeyTime","convertFBXTimeToSeconds","KeyValueFloat","animationCurveID","animationCurveRelationship","rawLayers","AnimationLayer","layerCurveNodes","modelID","rawModel","modelName","initialPosition","initialRotation","initialScale","morph","deformerID","morpherID","morphName","rawStacks","AnimationStack","layer","tracks","rawTracks","concat","generateTracks","AnimationClip","Quaternion","decompose","toArray","Euler","setFromQuaternion","T","positionTrack","generateVectorTrack","R","rotationTrack","generateRotationTrack","S","scaleTrack","morphTrack","generateMorphTrack","initialValue","getTimesForAllAxes","getKeyframeTrackValues","VectorKeyframeTrack","interpolateRotations","setFromEuler","invert","quaternion","euler","quaternionValues","premultiply","multiply","QuaternionKeyframeTrack","morphNum","getObjectByName","morphTargetDictionary","NumberKeyframeTrack","targetIndex","lastValue","currentValue","prevValue","xIndex","yIndex","zIndex","time","xValue","yValue","zValue","valuesSpan","absoluteSpan","abs","numSubIntervals","step","nextValue","initialTime","timeSpan","interval","nextTime","interpolatedTimes","interpolatedValues","inject","getPrevNode","nodeStack","currentIndent","getCurrentNode","getCurrentProp","currentProp","pushStack","popStack","setCurrentProp","currentPropName","text","allNodes","FBXTree","line","matchComment","matchEmpty","matchBeginning","matchProperty","matchEnd","parseNodeBegin","parseNodeProperty","parseNodePropertyContinued","property","nodeName","trim","nodeAttrs","parseNodeAttr","currentNode","contentLine","propName","propValue","parentName","connProps","from","to","rest","elem","append","parseNumberArray","parseNodeSpecialProperty","props","prop","innerPropName","innerPropType1","innerPropType2","innerPropFlag","innerPropValue","reader","BinaryReader","skip","version","getUint32","endOfContent","parseNode","getOffset","endOffset","getUint64","numProperties","nameLen","getUint8","getString","propertyList","parseProperty","singleProperty","subNode","parseSubNode","getBoolean","getFloat64","getFloat32","getInt32","getInt64","getArrayBuffer","getInt16","arrayLength","compressedLength","getBooleanArray","getFloat64Array","getFloat32Array","getInt32Array","getInt64Array","reader2","littleEndian","dv","DataView","nullByte","CORRECT","cursor","read","result","num","versionRegExp","dataArray","infoObject","tempEuler","tempVec","lTranslationM","lPreRotationM","lRotationM","lPostRotationM","lScalingM","lScalingPivotM","lScalingOffsetM","lRotationOffsetM","lRotationPivotM","lParentGX","lParentLX","lGlobalT","setPosition","makeRotationFromEuler","lLRM","lParentGRM","extractRotation","lParentTM","copyPosition","lParentGRSM","lParentGSM","lLSM","lGlobalRS","lParentLSM","setFromMatrixScale","lParentLSM_inv","lParentGSM_noLocal","lRotationPivotM_inv","lScalingPivotM_inv","lTransform","lLocalTWithAllPivotAndOffsetInfo","lGlobalTranslation","enums","a1","a2","cache","loader","loadFBX","async","group","noBone","forceGet","Promise","resolve","reject","increaseLoadingCount","group2","decreaseLoadingCount","noBone2","LinearEncoding","handleProgress","cloneSkinnedMesh"],"sourceRoot":""}