"use strict";(self["webpackChunkvue3"]=self["webpackChunkvue3"]||[]).push([[372],{8372:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var o=n(9260);const[r,i]=(0,o.aB)(void 0);function a(){this.done||(this.createEffect((()=>{if(!0===this.mouseControlState.get()&&(0,o.aC)()===this.camera)return(0,o.aD)("camera"),()=>{(0,o.aD)("mouse")}}),[this.mouseControlState.get,o.aC]),this.createEffect((()=>{if((0,o.aC)()!==this.camera||!this.mouseControlState.get())return;if(i()===this.camera){const e=e=>this.gyrate(e.movementX,e.movementY);return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}}let e=!1,[t,n]=[0,0];const r=o.aE.on("down",(o=>(e=!0,[t,n]=[o.clientX,o.clientY]))),a=o.aE.on("up",(()=>e=!1)),c=o=>{if(void 0===o.movementX){const[r,i]=[o.clientX-t,o.clientY-n];return[t,n]=[o.clientX,o.clientY],void(e&&this.gyrate(2*r,2*i))}e&&this.gyrate(2*o.movementX,2*o.movementY)};return o.aF.addEventListener("pointermove",c),()=>{r.cancel(),a.cancel(),o.aF.removeEventListener("pointermove",c),e=!1}}),[this.mouseControlState.get,o.aC,i]),this.createEffect((()=>{const e=(0,o.aC)();if(!0!==this.mouseControlState.get()||e!==this.camera)return;const t=()=>{var e,t;return null==(t=(e=o.aF).requestPointerLock)?void 0:t.call(e)},n=()=>{document.pointerLockElement===o.aF?r(e):r(void 0)};return o.aF.addEventListener("click",t),document.addEventListener("pointerlockchange",n),()=>{o.aF.removeEventListener("click",t),document.removeEventListener("pointerlockchange",n),document.exitPointerLock(),r(void 0)}}),[this.mouseControlState.get,o.aC]))}}}]);
//# sourceMappingURL=372.e4e7e7ee.js.map